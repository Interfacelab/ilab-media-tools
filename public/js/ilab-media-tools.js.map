{"version":3,"sources":["../vendor/cropper/dist/cropper.js","ilab-crop.js","components/imgix-component.js","components/imgix-label.js","components/imgix-slider.js","components/imgix-color.js","components/imgix-alignment.js","components/imgix-media-chooser.js","components/imgix-pillbox.js","ilab-imgix-presets.js","ilab-sidebar-tabs.js","ilab-imgix.js"],"names":["factory","define","amd","exports","require","jQuery","$","isNumber","n","isNaN","isUndefined","toArray","obj","offset","args","push","slice","apply","proxy","fn","context","arguments","concat","isCrossOriginURL","url","parts","match","location","protocol","hostname","port","addTimestamp","timestamp","Date","getTime","indexOf","getCrossOrigin","crossOrigin","getImageSize","image","callback","newImage","naturalWidth","IS_SAFARI_OR_UIWEBVIEW","naturalHeight","document","createElement","onload","this","width","height","src","getTransform","options","transforms","rotate","scaleX","scaleY","length","join","getRotatedSizes","data","isReversed","newWidth","newHeight","deg","abs","degree","arc","Math","PI","sinArc","sin","cosArc","cos","aspectRatio","getSourceCanvas","translateX","translateY","rotated","canvas","getContext","dstX","dstY","dstWidth","dstHeight","scalable","rotatable","advanced","canvasWidth","canvasHeight","save","translate","scale","drawImage","floor","restore","getTouchesCenter","touches","pageX","pageY","each","i","touch","getStringFromCharCode","dataView","start","str","fromCharCode","getUint8","getOrientation","arrayBuffer","orientation","exifIDCode","tiffOffset","firstIFDOffset","littleEndian","endianness","app1Start","ifdStart","DataView","byteLength","getUint16","getUint32","setUint16","dataURLToArrayBuffer","dataURL","base64","replace","REGEXP_DATA_URL_HEAD","binary","atob","ArrayBuffer","Uint8Array","charCodeAt","arrayBufferToDataURL","btoa","Cropper","element","$element","extend","DEFAULTS","isPlainObject","isLoaded","isBuilt","isCompleted","isRotated","isCropped","isDisabled","isReplaced","isLimited","wheeling","isImg","originalUrl","cropBox","init","$window","window","$document","navigator","CLASS_HIDDEN","EVENT_MOUSE_UP","REGEXP_ACTIONS","REGEXP_DATA_URL","REGEXP_DATA_URL_JPEG","SUPPORT_CANVAS","isFunction","test","userAgent","num","Number","min","max","sqrt","round","String","prototype","constructor","$this","is","attr","prop","toDataURL","load","trigger","type","e","Event","read","xhr","one","build","isDefaultPrevented","checkOrientation","clone","XMLHttpRequest","onerror","onabort","response","checkCrossOrigin","open","responseType","send","crossOriginUrl","$clone","complete","stop","addClass","insertAfter","$image","off","remove","$cropper","$cropBox","$face","unbuild","$container","parent","TEMPLATE","$canvas","find","append","$dragBox","$viewBox","after","removeClass","initPreview","bind","NaN","viewMode","autoCrop","modal","guides","center","cropBoxMovable","highlight","background","cropBoxResizable","setDragMode","dragMode","render","setData","built","setTimeout","getData","initialImage","initialCanvas","initialCropBox","container","unbind","resetPreview","$preview","initContainer","initCanvas","initCropBox","renderCanvas","renderCropBox","css","minContainerWidth","minContainerHeight","containerWidth","containerHeight","imageNaturalWidth","imageNaturalHeight","is90Degree","oldLeft","left","oldTop","top","limitCanvas","isSizeLimited","isPositionLimited","minCanvasWidth","minCanvasHeight","newCanvasLeft","newCanvasTop","minWidth","minHeight","maxWidth","Infinity","maxHeight","minLeft","minTop","maxLeft","maxTop","isChanged","renderImage","limitCropBox","output","reversed","marginLeft","marginTop","transform","autoCropArea","minCropBoxWidth","minCropBoxHeight","maxCropBoxWidth","maxCropBoxHeight","movable","preview","$clone2","html","removeData","cropBoxWidth","cropBoxHeight","originalWidth","originalHeight","ratio","cropstart","on","cropmove","cropend","crop","zoom","cropStart","zoomable","zoomOnWheel","wheel","toggleDragModeOnDblclick","dblclick","_cropMove","cropMove","_cropEnd","cropEnd","responsive","_resize","resize","canvasData","cropBoxData","getCanvasData","getCropBoxData","setCanvasData","setCropBoxData","hasClass","event","originalEvent","wheelZoomRatio","delta","preventDefault","deltaY","wheelDelta","detail","touchesLength","action","zoomOnTouch","startX2","startY2","target","cropping","startX","startY","endX2","endY2","endX","endY","change","shiftKey","toggleClass","range","right","bottom","renderable","x","y","X","Y","move","x1","y1","x2","y2","z1","reset","clear","onlyColorChanged","add","enable","disable","destroy","offsetX","offsetY","moveTo","_event","zoomTo","oldRatio","rotateTo","isRounded","isScaled","call","getContainerData","getImageData","isWidthChanged","isHeightChanged","getCroppedCanvas","scaledWidth","scaledHeight","scaledRatio","fillColor","fillStyle","fillRect","srcWidth","srcHeight","source","sourceWidth","sourceHeight","params","srcX","srcY","setAspectRatio","mode","croppable","setDefaults","other","cropper","option","result","Constructor","noConflict","ILabCrop","settings","modalContainer","modal_id","cropperData","resizeTimerId","cropRef","isResizing","ilabTabs","currentValue","size","tabSelected","tab","ILabModal","loadURL","bindUI","prev_crop_x","prev_crop_y","prev_crop_width","prev_crop_height","updatePreviewWidth","clearTimeout","_resized","aspect_ratio","hasOwnProperty","cropped_src","size_title","text","min_width","min_height","mouseWheelZoom","dragCrop","checkImageOrigin","displayStatus","image_id","post","ajaxurl","status","hideStatus","message","ImgixComponents","utilities","byteToHex","byte","hexChar","imgixLabel","changeTimerId","label","currentVal","textInput","keyCode","changed","val","parseInt","metaKey","select","focus","ImgixSlider","delegate","valueLabel","slider","resetButton","defaultValue","param","sliderRef","newVal","hide","show","saveValue","ImgixColor","colorPicker","alphaSlider","colorPickerRef","blendParam","blendSelect","currentBlend","wpColorPicker","palettes","ui","blend","undefined","alpha","substring","parseFloat","ImgixAlignment","alignmentParam","alignmentRef","button","ImgixMediaChooser","mediaInput","selectButton","uploader","wp","media","title","multiple","mediaRef","attachment","state","get","first","toJSON","id","removeAttr","replaceWith","ImgixPillbox","values","split","buttons","inputs","pillboxRef","valueName","Object","keys","forEach","key","index","vals","ILabImgixPresets","presetSelect","presetContainer","presetDefaultCheckbox","self","resetAll","preset","presets","default_for","bindPreset","newPreset","savePreset","deletePreset","currentPreset","clearSelected","setCurrentPreset","is_default","name","prompt","postAjax","confirm","ilabSidebarTabs","firstTab","otherTab","tabTarget","ILabImageEdit","_preview","waitModal","sameSrc","previewImage","didLoad","previewTimeout","previewsSuspended","parameters","paramName","postData","value","makeDirty","p","rebind","makeClean"],"mappings":"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","file":"ilab-media-tools.js","sourcesContent":["/*!\n * Cropper v2.3.2\n * https://github.com/fengyuanchen/cropper\n *\n * Copyright (c) 2014-2016 Fengyuan Chen and contributors\n * Released under the MIT license\n *\n * Date: 2016-06-08T12:14:46.286Z\n */\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // Node / CommonJS\n    factory(require('jquery'));\n  } else {\n    // Browser globals.\n    factory(jQuery);\n  }\n})(function ($) {\n\n  'use strict';\n\n  // Globals\n  var $window = $(window);\n  var $document = $(document);\n  var location = window.location;\n  var navigator = window.navigator;\n  var ArrayBuffer = window.ArrayBuffer;\n  var Uint8Array = window.Uint8Array;\n  var DataView = window.DataView;\n  var btoa = window.btoa;\n\n  // Constants\n  var NAMESPACE = 'cropper';\n\n  // Classes\n  var CLASS_MODAL = 'cropper-modal';\n  var CLASS_HIDE = 'cropper-hide';\n  var CLASS_HIDDEN = 'cropper-hidden';\n  var CLASS_INVISIBLE = 'cropper-invisible';\n  var CLASS_MOVE = 'cropper-move';\n  var CLASS_CROP = 'cropper-crop';\n  var CLASS_DISABLED = 'cropper-disabled';\n  var CLASS_BG = 'cropper-bg';\n\n  // Events\n  var EVENT_MOUSE_DOWN = 'mousedown touchstart pointerdown MSPointerDown';\n  var EVENT_MOUSE_MOVE = 'mousemove touchmove pointermove MSPointerMove';\n  var EVENT_MOUSE_UP = 'mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel';\n  var EVENT_WHEEL = 'wheel mousewheel DOMMouseScroll';\n  var EVENT_DBLCLICK = 'dblclick';\n  var EVENT_LOAD = 'load.' + NAMESPACE;\n  var EVENT_ERROR = 'error.' + NAMESPACE;\n  var EVENT_RESIZE = 'resize.' + NAMESPACE; // Bind to window with namespace\n  var EVENT_BUILD = 'build.' + NAMESPACE;\n  var EVENT_BUILT = 'built.' + NAMESPACE;\n  var EVENT_CROP_START = 'cropstart.' + NAMESPACE;\n  var EVENT_CROP_MOVE = 'cropmove.' + NAMESPACE;\n  var EVENT_CROP_END = 'cropend.' + NAMESPACE;\n  var EVENT_CROP = 'crop.' + NAMESPACE;\n  var EVENT_ZOOM = 'zoom.' + NAMESPACE;\n\n  // RegExps\n  var REGEXP_ACTIONS = /e|w|s|n|se|sw|ne|nw|all|crop|move|zoom/;\n  var REGEXP_DATA_URL = /^data\\:/;\n  var REGEXP_DATA_URL_HEAD = /^data\\:([^\\;]+)\\;base64,/;\n  var REGEXP_DATA_URL_JPEG = /^data\\:image\\/jpeg.*;base64,/;\n\n  // Data keys\n  var DATA_PREVIEW = 'preview';\n  var DATA_ACTION = 'action';\n\n  // Actions\n  var ACTION_EAST = 'e';\n  var ACTION_WEST = 'w';\n  var ACTION_SOUTH = 's';\n  var ACTION_NORTH = 'n';\n  var ACTION_SOUTH_EAST = 'se';\n  var ACTION_SOUTH_WEST = 'sw';\n  var ACTION_NORTH_EAST = 'ne';\n  var ACTION_NORTH_WEST = 'nw';\n  var ACTION_ALL = 'all';\n  var ACTION_CROP = 'crop';\n  var ACTION_MOVE = 'move';\n  var ACTION_ZOOM = 'zoom';\n  var ACTION_NONE = 'none';\n\n  // Supports\n  var SUPPORT_CANVAS = $.isFunction($('<canvas>')[0].getContext);\n  var IS_SAFARI_OR_UIWEBVIEW = navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent);\n\n  // Maths\n  var num = Number;\n  var min = Math.min;\n  var max = Math.max;\n  var abs = Math.abs;\n  var sin = Math.sin;\n  var cos = Math.cos;\n  var sqrt = Math.sqrt;\n  var round = Math.round;\n  var floor = Math.floor;\n\n  // Utilities\n  var fromCharCode = String.fromCharCode;\n\n  function isNumber(n) {\n    return typeof n === 'number' && !isNaN(n);\n  }\n\n  function isUndefined(n) {\n    return typeof n === 'undefined';\n  }\n\n  function toArray(obj, offset) {\n    var args = [];\n\n    // This is necessary for IE8\n    if (isNumber(offset)) {\n      args.push(offset);\n    }\n\n    return args.slice.apply(obj, args);\n  }\n\n  // Custom proxy to avoid jQuery's guid\n  function proxy(fn, context) {\n    var args = toArray(arguments, 2);\n\n    return function () {\n      return fn.apply(context, args.concat(toArray(arguments)));\n    };\n  }\n\n  function isCrossOriginURL(url) {\n    var parts = url.match(/^(https?:)\\/\\/([^\\:\\/\\?#]+):?(\\d*)/i);\n\n    return parts && (\n      parts[1] !== location.protocol ||\n      parts[2] !== location.hostname ||\n      parts[3] !== location.port\n    );\n  }\n\n  function addTimestamp(url) {\n    var timestamp = 'timestamp=' + (new Date()).getTime();\n\n    return (url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp);\n  }\n\n  function getCrossOrigin(crossOrigin) {\n    return crossOrigin ? ' crossOrigin=\"' + crossOrigin + '\"' : '';\n  }\n\n  function getImageSize(image, callback) {\n    var newImage;\n\n    // Modern browsers (ignore Safari, #120 & #509)\n    if (image.naturalWidth && !IS_SAFARI_OR_UIWEBVIEW) {\n      return callback(image.naturalWidth, image.naturalHeight);\n    }\n\n    // IE8: Don't use `new Image()` here (#319)\n    newImage = document.createElement('img');\n\n    newImage.onload = function () {\n      callback(this.width, this.height);\n    };\n\n    newImage.src = image.src;\n  }\n\n  function getTransform(options) {\n    var transforms = [];\n    var rotate = options.rotate;\n    var scaleX = options.scaleX;\n    var scaleY = options.scaleY;\n\n    // Scale should come first before rotate (#633)\n    if (isNumber(scaleX) && isNumber(scaleY)) {\n      transforms.push('scale(' + scaleX + ',' + scaleY + ')');\n    }\n\n    if (isNumber(rotate)) {\n      transforms.push('rotate(' + rotate + 'deg)');\n    }\n\n    return transforms.length ? transforms.join(' ') : 'none';\n  }\n\n  function getRotatedSizes(data, isReversed) {\n    var deg = abs(data.degree) % 180;\n    var arc = (deg > 90 ? (180 - deg) : deg) * Math.PI / 180;\n    var sinArc = sin(arc);\n    var cosArc = cos(arc);\n    var width = data.width;\n    var height = data.height;\n    var aspectRatio = data.aspectRatio;\n    var newWidth;\n    var newHeight;\n\n    if (!isReversed) {\n      newWidth = width * cosArc + height * sinArc;\n      newHeight = width * sinArc + height * cosArc;\n    } else {\n      newWidth = width / (cosArc + sinArc / aspectRatio);\n      newHeight = newWidth / aspectRatio;\n    }\n\n    return {\n      width: newWidth,\n      height: newHeight\n    };\n  }\n\n  function getSourceCanvas(image, data) {\n    var canvas = $('<canvas>')[0];\n    var context = canvas.getContext('2d');\n    var dstX = 0;\n    var dstY = 0;\n    var dstWidth = data.naturalWidth;\n    var dstHeight = data.naturalHeight;\n    var rotate = data.rotate;\n    var scaleX = data.scaleX;\n    var scaleY = data.scaleY;\n    var scalable = isNumber(scaleX) && isNumber(scaleY) && (scaleX !== 1 || scaleY !== 1);\n    var rotatable = isNumber(rotate) && rotate !== 0;\n    var advanced = rotatable || scalable;\n    var canvasWidth = dstWidth * abs(scaleX || 1);\n    var canvasHeight = dstHeight * abs(scaleY || 1);\n    var translateX;\n    var translateY;\n    var rotated;\n\n    if (scalable) {\n      translateX = canvasWidth / 2;\n      translateY = canvasHeight / 2;\n    }\n\n    if (rotatable) {\n      rotated = getRotatedSizes({\n        width: canvasWidth,\n        height: canvasHeight,\n        degree: rotate\n      });\n\n      canvasWidth = rotated.width;\n      canvasHeight = rotated.height;\n      translateX = canvasWidth / 2;\n      translateY = canvasHeight / 2;\n    }\n\n    canvas.width = canvasWidth;\n    canvas.height = canvasHeight;\n\n    if (advanced) {\n      dstX = -dstWidth / 2;\n      dstY = -dstHeight / 2;\n\n      context.save();\n      context.translate(translateX, translateY);\n    }\n\n    // Scale should come first before rotate (#633, #709)\n    if (scalable) {\n      context.scale(scaleX, scaleY);\n    }\n\n    if (rotatable) {\n      context.rotate(rotate * Math.PI / 180);\n    }\n\n    context.drawImage(image, floor(dstX), floor(dstY), floor(dstWidth), floor(dstHeight));\n\n    if (advanced) {\n      context.restore();\n    }\n\n    return canvas;\n  }\n\n  function getTouchesCenter(touches) {\n    var length = touches.length;\n    var pageX = 0;\n    var pageY = 0;\n\n    if (length) {\n      $.each(touches, function (i, touch) {\n        pageX += touch.pageX;\n        pageY += touch.pageY;\n      });\n\n      pageX /= length;\n      pageY /= length;\n    }\n\n    return {\n      pageX: pageX,\n      pageY: pageY\n    };\n  }\n\n  function getStringFromCharCode(dataView, start, length) {\n    var str = '';\n    var i;\n\n    for (i = start, length += start; i < length; i++) {\n      str += fromCharCode(dataView.getUint8(i));\n    }\n\n    return str;\n  }\n\n  function getOrientation(arrayBuffer) {\n    var dataView = new DataView(arrayBuffer);\n    var length = dataView.byteLength;\n    var orientation;\n    var exifIDCode;\n    var tiffOffset;\n    var firstIFDOffset;\n    var littleEndian;\n    var endianness;\n    var app1Start;\n    var ifdStart;\n    var offset;\n    var i;\n\n    // Only handle JPEG image (start by 0xFFD8)\n    if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n      offset = 2;\n\n      while (offset < length) {\n        if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n          app1Start = offset;\n          break;\n        }\n\n        offset++;\n      }\n    }\n\n    if (app1Start) {\n      exifIDCode = app1Start + 4;\n      tiffOffset = app1Start + 10;\n\n      if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n        endianness = dataView.getUint16(tiffOffset);\n        littleEndian = endianness === 0x4949;\n\n        if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n          if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n            firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n            if (firstIFDOffset >= 0x00000008) {\n              ifdStart = tiffOffset + firstIFDOffset;\n            }\n          }\n        }\n      }\n    }\n\n    if (ifdStart) {\n      length = dataView.getUint16(ifdStart, littleEndian);\n\n      for (i = 0; i < length; i++) {\n        offset = ifdStart + i * 12 + 2;\n\n        if (dataView.getUint16(offset, littleEndian) === 0x0112 /* Orientation */) {\n\n          // 8 is the offset of the current tag's value\n          offset += 8;\n\n          // Get the original orientation value\n          orientation = dataView.getUint16(offset, littleEndian);\n\n          // Override the orientation with its default value for Safari (#120)\n          if (IS_SAFARI_OR_UIWEBVIEW) {\n            dataView.setUint16(offset, 1, littleEndian);\n          }\n\n          break;\n        }\n      }\n    }\n\n    return orientation;\n  }\n\n  function dataURLToArrayBuffer(dataURL) {\n    var base64 = dataURL.replace(REGEXP_DATA_URL_HEAD, '');\n    var binary = atob(base64);\n    var length = binary.length;\n    var arrayBuffer = new ArrayBuffer(length);\n    var dataView = new Uint8Array(arrayBuffer);\n    var i;\n\n    for (i = 0; i < length; i++) {\n      dataView[i] = binary.charCodeAt(i);\n    }\n\n    return arrayBuffer;\n  }\n\n  // Only available for JPEG image\n  function arrayBufferToDataURL(arrayBuffer) {\n    var dataView = new Uint8Array(arrayBuffer);\n    var length = dataView.length;\n    var base64 = '';\n    var i;\n\n    for (i = 0; i < length; i++) {\n      base64 += fromCharCode(dataView[i]);\n    }\n\n    return 'data:image/jpeg;base64,' + btoa(base64);\n  }\n\n  function Cropper(element, options) {\n    this.$element = $(element);\n    this.options = $.extend({}, Cropper.DEFAULTS, $.isPlainObject(options) && options);\n    this.isLoaded = false;\n    this.isBuilt = false;\n    this.isCompleted = false;\n    this.isRotated = false;\n    this.isCropped = false;\n    this.isDisabled = false;\n    this.isReplaced = false;\n    this.isLimited = false;\n    this.wheeling = false;\n    this.isImg = false;\n    this.originalUrl = '';\n    this.canvas = null;\n    this.cropBox = null;\n    this.init();\n  }\n\n  Cropper.prototype = {\n    constructor: Cropper,\n\n    init: function () {\n      var $this = this.$element;\n      var url;\n\n      if ($this.is('img')) {\n        this.isImg = true;\n\n        // Should use `$.fn.attr` here. e.g.: \"img/picture.jpg\"\n        this.originalUrl = url = $this.attr('src');\n\n        // Stop when it's a blank image\n        if (!url) {\n          return;\n        }\n\n        // Should use `$.fn.prop` here. e.g.: \"http://example.com/img/picture.jpg\"\n        url = $this.prop('src');\n      } else if ($this.is('canvas') && SUPPORT_CANVAS) {\n        url = $this[0].toDataURL();\n      }\n\n      this.load(url);\n    },\n\n    // A shortcut for triggering custom events\n    trigger: function (type, data) {\n      var e = $.Event(type, data);\n\n      this.$element.trigger(e);\n\n      return e;\n    },\n\n    load: function (url) {\n      var options = this.options;\n      var $this = this.$element;\n      var read;\n      var xhr;\n\n      if (!url) {\n        return;\n      }\n\n      // Trigger build event first\n      $this.one(EVENT_BUILD, options.build);\n\n      if (this.trigger(EVENT_BUILD).isDefaultPrevented()) {\n        return;\n      }\n\n      this.url = url;\n      this.image = {};\n\n      if (!options.checkOrientation || !ArrayBuffer) {\n        return this.clone();\n      }\n\n      read = $.proxy(this.read, this);\n\n      // XMLHttpRequest disallows to open a Data URL in some browsers like IE11 and Safari\n      if (REGEXP_DATA_URL.test(url)) {\n        return REGEXP_DATA_URL_JPEG.test(url) ?\n          read(dataURLToArrayBuffer(url)) :\n          this.clone();\n      }\n\n      xhr = new XMLHttpRequest();\n\n      xhr.onerror = xhr.onabort = $.proxy(function () {\n        this.clone();\n      }, this);\n\n      xhr.onload = function () {\n        read(this.response);\n      };\n\n      if (options.checkCrossOrigin && isCrossOriginURL(url) && $this.prop('crossOrigin')) {\n        url = addTimestamp(url);\n      }\n\n      xhr.open('get', url);\n      xhr.responseType = 'arraybuffer';\n      xhr.send();\n    },\n\n    read: function (arrayBuffer) {\n      var options = this.options;\n      var orientation = getOrientation(arrayBuffer);\n      var image = this.image;\n      var rotate;\n      var scaleX;\n      var scaleY;\n\n      if (orientation > 1) {\n        this.url = arrayBufferToDataURL(arrayBuffer);\n\n        switch (orientation) {\n\n          // flip horizontal\n          case 2:\n            scaleX = -1;\n            break;\n\n          // rotate left 180\n          case 3:\n            rotate = -180;\n            break;\n\n          // flip vertical\n          case 4:\n            scaleY = -1;\n            break;\n\n          // flip vertical + rotate right 90\n          case 5:\n            rotate = 90;\n            scaleY = -1;\n            break;\n\n          // rotate right 90\n          case 6:\n            rotate = 90;\n            break;\n\n          // flip horizontal + rotate right 90\n          case 7:\n            rotate = 90;\n            scaleX = -1;\n            break;\n\n          // rotate left 90\n          case 8:\n            rotate = -90;\n            break;\n        }\n      }\n\n      if (options.rotatable) {\n        image.rotate = rotate;\n      }\n\n      if (options.scalable) {\n        image.scaleX = scaleX;\n        image.scaleY = scaleY;\n      }\n\n      this.clone();\n    },\n\n    clone: function () {\n      var options = this.options;\n      var $this = this.$element;\n      var url = this.url;\n      var crossOrigin = '';\n      var crossOriginUrl;\n      var $clone;\n\n      if (options.checkCrossOrigin && isCrossOriginURL(url)) {\n        crossOrigin = $this.prop('crossOrigin');\n\n        if (crossOrigin) {\n          crossOriginUrl = url;\n        } else {\n          crossOrigin = 'anonymous';\n\n          // Bust cache (#148) when there is not a \"crossOrigin\" property\n          crossOriginUrl = addTimestamp(url);\n        }\n      }\n\n      this.crossOrigin = crossOrigin;\n      this.crossOriginUrl = crossOriginUrl;\n      this.$clone = $clone = $('<img' + getCrossOrigin(crossOrigin) + ' src=\"' + (crossOriginUrl || url) + '\">');\n\n      if (this.isImg) {\n        if ($this[0].complete) {\n          this.start();\n        } else {\n          $this.one(EVENT_LOAD, $.proxy(this.start, this));\n        }\n      } else {\n        $clone.\n          one(EVENT_LOAD, $.proxy(this.start, this)).\n          one(EVENT_ERROR, $.proxy(this.stop, this)).\n          addClass(CLASS_HIDE).\n          insertAfter($this);\n      }\n    },\n\n    start: function () {\n      var $image = this.$element;\n      var $clone = this.$clone;\n\n      if (!this.isImg) {\n        $clone.off(EVENT_ERROR, this.stop);\n        $image = $clone;\n      }\n\n      getImageSize($image[0], $.proxy(function (naturalWidth, naturalHeight) {\n        $.extend(this.image, {\n          naturalWidth: naturalWidth,\n          naturalHeight: naturalHeight,\n          aspectRatio: naturalWidth / naturalHeight\n        });\n\n        this.isLoaded = true;\n        this.build();\n      }, this));\n    },\n\n    stop: function () {\n      this.$clone.remove();\n      this.$clone = null;\n    },\n\n    build: function () {\n      var options = this.options;\n      var $this = this.$element;\n      var $clone = this.$clone;\n      var $cropper;\n      var $cropBox;\n      var $face;\n\n      if (!this.isLoaded) {\n        return;\n      }\n\n      // Unbuild first when replace\n      if (this.isBuilt) {\n        this.unbuild();\n      }\n\n      // Create cropper elements\n      this.$container = $this.parent();\n      this.$cropper = $cropper = $(Cropper.TEMPLATE);\n      this.$canvas = $cropper.find('.cropper-canvas').append($clone);\n      this.$dragBox = $cropper.find('.cropper-drag-box');\n      this.$cropBox = $cropBox = $cropper.find('.cropper-crop-box');\n      this.$viewBox = $cropper.find('.cropper-view-box');\n      this.$face = $face = $cropBox.find('.cropper-face');\n\n      // Hide the original image\n      $this.addClass(CLASS_HIDDEN).after($cropper);\n\n      // Show the clone image if is hidden\n      if (!this.isImg) {\n        $clone.removeClass(CLASS_HIDE);\n      }\n\n      this.initPreview();\n      this.bind();\n\n      options.aspectRatio = max(0, options.aspectRatio) || NaN;\n      options.viewMode = max(0, min(3, round(options.viewMode))) || 0;\n\n      if (options.autoCrop) {\n        this.isCropped = true;\n\n        if (options.modal) {\n          this.$dragBox.addClass(CLASS_MODAL);\n        }\n      } else {\n        $cropBox.addClass(CLASS_HIDDEN);\n      }\n\n      if (!options.guides) {\n        $cropBox.find('.cropper-dashed').addClass(CLASS_HIDDEN);\n      }\n\n      if (!options.center) {\n        $cropBox.find('.cropper-center').addClass(CLASS_HIDDEN);\n      }\n\n      if (options.cropBoxMovable) {\n        $face.addClass(CLASS_MOVE).data(DATA_ACTION, ACTION_ALL);\n      }\n\n      if (!options.highlight) {\n        $face.addClass(CLASS_INVISIBLE);\n      }\n\n      if (options.background) {\n        $cropper.addClass(CLASS_BG);\n      }\n\n      if (!options.cropBoxResizable) {\n        $cropBox.find('.cropper-line, .cropper-point').addClass(CLASS_HIDDEN);\n      }\n\n      this.setDragMode(options.dragMode);\n      this.render();\n      this.isBuilt = true;\n      this.setData(options.data);\n      $this.one(EVENT_BUILT, options.built);\n\n      // Trigger the built event asynchronously to keep `data('cropper')` is defined\n      setTimeout($.proxy(function () {\n        this.trigger(EVENT_BUILT);\n        this.trigger(EVENT_CROP, this.getData());\n        this.isCompleted = true;\n      }, this), 0);\n    },\n\n    unbuild: function () {\n      if (!this.isBuilt) {\n        return;\n      }\n\n      this.isBuilt = false;\n      this.isCompleted = false;\n      this.initialImage = null;\n\n      // Clear `initialCanvas` is necessary when replace\n      this.initialCanvas = null;\n      this.initialCropBox = null;\n      this.container = null;\n      this.canvas = null;\n\n      // Clear `cropBox` is necessary when replace\n      this.cropBox = null;\n      this.unbind();\n\n      this.resetPreview();\n      this.$preview = null;\n\n      this.$viewBox = null;\n      this.$cropBox = null;\n      this.$dragBox = null;\n      this.$canvas = null;\n      this.$container = null;\n\n      this.$cropper.remove();\n      this.$cropper = null;\n    },\n\n    render: function () {\n      this.initContainer();\n      this.initCanvas();\n      this.initCropBox();\n\n      this.renderCanvas();\n\n      if (this.isCropped) {\n        this.renderCropBox();\n      }\n    },\n\n    initContainer: function () {\n      var options = this.options;\n      var $this = this.$element;\n      var $container = this.$container;\n      var $cropper = this.$cropper;\n\n      $cropper.addClass(CLASS_HIDDEN);\n      $this.removeClass(CLASS_HIDDEN);\n\n      $cropper.css((this.container = {\n        width: max($container.width(), num(options.minContainerWidth) || 200),\n        height: max($container.height(), num(options.minContainerHeight) || 100)\n      }));\n\n      $this.addClass(CLASS_HIDDEN);\n      $cropper.removeClass(CLASS_HIDDEN);\n    },\n\n    // Canvas (image wrapper)\n    initCanvas: function () {\n      var viewMode = this.options.viewMode;\n      var container = this.container;\n      var containerWidth = container.width;\n      var containerHeight = container.height;\n      var image = this.image;\n      var imageNaturalWidth = image.naturalWidth;\n      var imageNaturalHeight = image.naturalHeight;\n      var is90Degree = abs(image.rotate) === 90;\n      var naturalWidth = is90Degree ? imageNaturalHeight : imageNaturalWidth;\n      var naturalHeight = is90Degree ? imageNaturalWidth : imageNaturalHeight;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var canvasWidth = containerWidth;\n      var canvasHeight = containerHeight;\n      var canvas;\n\n      if (containerHeight * aspectRatio > containerWidth) {\n        if (viewMode === 3) {\n          canvasWidth = containerHeight * aspectRatio;\n        } else {\n          canvasHeight = containerWidth / aspectRatio;\n        }\n      } else {\n        if (viewMode === 3) {\n          canvasHeight = containerWidth / aspectRatio;\n        } else {\n          canvasWidth = containerHeight * aspectRatio;\n        }\n      }\n\n      canvas = {\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        aspectRatio: aspectRatio,\n        width: canvasWidth,\n        height: canvasHeight\n      };\n\n      canvas.oldLeft = canvas.left = (containerWidth - canvasWidth) / 2;\n      canvas.oldTop = canvas.top = (containerHeight - canvasHeight) / 2;\n\n      this.canvas = canvas;\n      this.isLimited = (viewMode === 1 || viewMode === 2);\n      this.limitCanvas(true, true);\n      this.initialImage = $.extend({}, image);\n      this.initialCanvas = $.extend({}, canvas);\n    },\n\n    limitCanvas: function (isSizeLimited, isPositionLimited) {\n      var options = this.options;\n      var viewMode = options.viewMode;\n      var container = this.container;\n      var containerWidth = container.width;\n      var containerHeight = container.height;\n      var canvas = this.canvas;\n      var aspectRatio = canvas.aspectRatio;\n      var cropBox = this.cropBox;\n      var isCropped = this.isCropped && cropBox;\n      var minCanvasWidth;\n      var minCanvasHeight;\n      var newCanvasLeft;\n      var newCanvasTop;\n\n      if (isSizeLimited) {\n        minCanvasWidth = num(options.minCanvasWidth) || 0;\n        minCanvasHeight = num(options.minCanvasHeight) || 0;\n\n        if (viewMode) {\n          if (viewMode > 1) {\n            minCanvasWidth = max(minCanvasWidth, containerWidth);\n            minCanvasHeight = max(minCanvasHeight, containerHeight);\n\n            if (viewMode === 3) {\n              if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n                minCanvasWidth = minCanvasHeight * aspectRatio;\n              } else {\n                minCanvasHeight = minCanvasWidth / aspectRatio;\n              }\n            }\n          } else {\n            if (minCanvasWidth) {\n              minCanvasWidth = max(minCanvasWidth, isCropped ? cropBox.width : 0);\n            } else if (minCanvasHeight) {\n              minCanvasHeight = max(minCanvasHeight, isCropped ? cropBox.height : 0);\n            } else if (isCropped) {\n              minCanvasWidth = cropBox.width;\n              minCanvasHeight = cropBox.height;\n\n              if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n                minCanvasWidth = minCanvasHeight * aspectRatio;\n              } else {\n                minCanvasHeight = minCanvasWidth / aspectRatio;\n              }\n            }\n          }\n        }\n\n        if (minCanvasWidth && minCanvasHeight) {\n          if (minCanvasHeight * aspectRatio > minCanvasWidth) {\n            minCanvasHeight = minCanvasWidth / aspectRatio;\n          } else {\n            minCanvasWidth = minCanvasHeight * aspectRatio;\n          }\n        } else if (minCanvasWidth) {\n          minCanvasHeight = minCanvasWidth / aspectRatio;\n        } else if (minCanvasHeight) {\n          minCanvasWidth = minCanvasHeight * aspectRatio;\n        }\n\n        canvas.minWidth = minCanvasWidth;\n        canvas.minHeight = minCanvasHeight;\n        canvas.maxWidth = Infinity;\n        canvas.maxHeight = Infinity;\n      }\n\n      if (isPositionLimited) {\n        if (viewMode) {\n          newCanvasLeft = containerWidth - canvas.width;\n          newCanvasTop = containerHeight - canvas.height;\n\n          canvas.minLeft = min(0, newCanvasLeft);\n          canvas.minTop = min(0, newCanvasTop);\n          canvas.maxLeft = max(0, newCanvasLeft);\n          canvas.maxTop = max(0, newCanvasTop);\n\n          if (isCropped && this.isLimited) {\n            canvas.minLeft = min(\n              cropBox.left,\n              cropBox.left + cropBox.width - canvas.width\n            );\n            canvas.minTop = min(\n              cropBox.top,\n              cropBox.top + cropBox.height - canvas.height\n            );\n            canvas.maxLeft = cropBox.left;\n            canvas.maxTop = cropBox.top;\n\n            if (viewMode === 2) {\n              if (canvas.width >= containerWidth) {\n                canvas.minLeft = min(0, newCanvasLeft);\n                canvas.maxLeft = max(0, newCanvasLeft);\n              }\n\n              if (canvas.height >= containerHeight) {\n                canvas.minTop = min(0, newCanvasTop);\n                canvas.maxTop = max(0, newCanvasTop);\n              }\n            }\n          }\n        } else {\n          canvas.minLeft = -canvas.width;\n          canvas.minTop = -canvas.height;\n          canvas.maxLeft = containerWidth;\n          canvas.maxTop = containerHeight;\n        }\n      }\n    },\n\n    renderCanvas: function (isChanged) {\n      var canvas = this.canvas;\n      var image = this.image;\n      var rotate = image.rotate;\n      var naturalWidth = image.naturalWidth;\n      var naturalHeight = image.naturalHeight;\n      var aspectRatio;\n      var rotated;\n\n      if (this.isRotated) {\n        this.isRotated = false;\n\n        // Computes rotated sizes with image sizes\n        rotated = getRotatedSizes({\n          width: image.width,\n          height: image.height,\n          degree: rotate\n        });\n\n        aspectRatio = rotated.width / rotated.height;\n\n        if (aspectRatio !== canvas.aspectRatio) {\n          canvas.left -= (rotated.width - canvas.width) / 2;\n          canvas.top -= (rotated.height - canvas.height) / 2;\n          canvas.width = rotated.width;\n          canvas.height = rotated.height;\n          canvas.aspectRatio = aspectRatio;\n          canvas.naturalWidth = naturalWidth;\n          canvas.naturalHeight = naturalHeight;\n\n          // Computes rotated sizes with natural image sizes\n          if (rotate % 180) {\n            rotated = getRotatedSizes({\n              width: naturalWidth,\n              height: naturalHeight,\n              degree: rotate\n            });\n\n            canvas.naturalWidth = rotated.width;\n            canvas.naturalHeight = rotated.height;\n          }\n\n          this.limitCanvas(true, false);\n        }\n      }\n\n      if (canvas.width > canvas.maxWidth || canvas.width < canvas.minWidth) {\n        canvas.left = canvas.oldLeft;\n      }\n\n      if (canvas.height > canvas.maxHeight || canvas.height < canvas.minHeight) {\n        canvas.top = canvas.oldTop;\n      }\n\n      canvas.width = min(max(canvas.width, canvas.minWidth), canvas.maxWidth);\n      canvas.height = min(max(canvas.height, canvas.minHeight), canvas.maxHeight);\n\n      this.limitCanvas(false, true);\n\n      canvas.oldLeft = canvas.left = min(max(canvas.left, canvas.minLeft), canvas.maxLeft);\n      canvas.oldTop = canvas.top = min(max(canvas.top, canvas.minTop), canvas.maxTop);\n\n      this.$canvas.css({\n        width: canvas.width,\n        height: canvas.height,\n        left: canvas.left,\n        top: canvas.top\n      });\n\n      this.renderImage();\n\n      if (this.isCropped && this.isLimited) {\n        this.limitCropBox(true, true);\n      }\n\n      if (isChanged) {\n        this.output();\n      }\n    },\n\n    renderImage: function (isChanged) {\n      var canvas = this.canvas;\n      var image = this.image;\n      var reversed;\n\n      if (image.rotate) {\n        reversed = getRotatedSizes({\n          width: canvas.width,\n          height: canvas.height,\n          degree: image.rotate,\n          aspectRatio: image.aspectRatio\n        }, true);\n      }\n\n      $.extend(image, reversed ? {\n        width: reversed.width,\n        height: reversed.height,\n        left: (canvas.width - reversed.width) / 2,\n        top: (canvas.height - reversed.height) / 2\n      } : {\n        width: canvas.width,\n        height: canvas.height,\n        left: 0,\n        top: 0\n      });\n\n      this.$clone.css({\n        width: image.width,\n        height: image.height,\n        marginLeft: image.left,\n        marginTop: image.top,\n        transform: getTransform(image)\n      });\n\n      if (isChanged) {\n        this.output();\n      }\n    },\n\n    initCropBox: function () {\n      var options = this.options;\n      var canvas = this.canvas;\n      var aspectRatio = options.aspectRatio;\n      var autoCropArea = num(options.autoCropArea) || 0.8;\n      var cropBox = {\n            width: canvas.width,\n            height: canvas.height\n          };\n\n      if (aspectRatio) {\n        if (canvas.height * aspectRatio > canvas.width) {\n          cropBox.height = cropBox.width / aspectRatio;\n        } else {\n          cropBox.width = cropBox.height * aspectRatio;\n        }\n      }\n\n      this.cropBox = cropBox;\n      this.limitCropBox(true, true);\n\n      // Initialize auto crop area\n      cropBox.width = min(max(cropBox.width, cropBox.minWidth), cropBox.maxWidth);\n      cropBox.height = min(max(cropBox.height, cropBox.minHeight), cropBox.maxHeight);\n\n      // The width of auto crop area must large than \"minWidth\", and the height too. (#164)\n      cropBox.width = max(cropBox.minWidth, cropBox.width * autoCropArea);\n      cropBox.height = max(cropBox.minHeight, cropBox.height * autoCropArea);\n      cropBox.oldLeft = cropBox.left = canvas.left + (canvas.width - cropBox.width) / 2;\n      cropBox.oldTop = cropBox.top = canvas.top + (canvas.height - cropBox.height) / 2;\n\n      this.initialCropBox = $.extend({}, cropBox);\n    },\n\n    limitCropBox: function (isSizeLimited, isPositionLimited) {\n      var options = this.options;\n      var aspectRatio = options.aspectRatio;\n      var container = this.container;\n      var containerWidth = container.width;\n      var containerHeight = container.height;\n      var canvas = this.canvas;\n      var cropBox = this.cropBox;\n      var isLimited = this.isLimited;\n      var minCropBoxWidth;\n      var minCropBoxHeight;\n      var maxCropBoxWidth;\n      var maxCropBoxHeight;\n\n      if (isSizeLimited) {\n        minCropBoxWidth = num(options.minCropBoxWidth) || 0;\n        minCropBoxHeight = num(options.minCropBoxHeight) || 0;\n\n        // The min/maxCropBoxWidth/Height must be less than containerWidth/Height\n        minCropBoxWidth = min(minCropBoxWidth, containerWidth);\n        minCropBoxHeight = min(minCropBoxHeight, containerHeight);\n        maxCropBoxWidth = min(containerWidth, isLimited ? canvas.width : containerWidth);\n        maxCropBoxHeight = min(containerHeight, isLimited ? canvas.height : containerHeight);\n\n        if (aspectRatio) {\n          if (minCropBoxWidth && minCropBoxHeight) {\n            if (minCropBoxHeight * aspectRatio > minCropBoxWidth) {\n              minCropBoxHeight = minCropBoxWidth / aspectRatio;\n            } else {\n              minCropBoxWidth = minCropBoxHeight * aspectRatio;\n            }\n          } else if (minCropBoxWidth) {\n            minCropBoxHeight = minCropBoxWidth / aspectRatio;\n          } else if (minCropBoxHeight) {\n            minCropBoxWidth = minCropBoxHeight * aspectRatio;\n          }\n\n          if (maxCropBoxHeight * aspectRatio > maxCropBoxWidth) {\n            maxCropBoxHeight = maxCropBoxWidth / aspectRatio;\n          } else {\n            maxCropBoxWidth = maxCropBoxHeight * aspectRatio;\n          }\n        }\n\n        // The minWidth/Height must be less than maxWidth/Height\n        cropBox.minWidth = min(minCropBoxWidth, maxCropBoxWidth);\n        cropBox.minHeight = min(minCropBoxHeight, maxCropBoxHeight);\n        cropBox.maxWidth = maxCropBoxWidth;\n        cropBox.maxHeight = maxCropBoxHeight;\n      }\n\n      if (isPositionLimited) {\n        if (isLimited) {\n          cropBox.minLeft = max(0, canvas.left);\n          cropBox.minTop = max(0, canvas.top);\n          cropBox.maxLeft = min(containerWidth, canvas.left + canvas.width) - cropBox.width;\n          cropBox.maxTop = min(containerHeight, canvas.top + canvas.height) - cropBox.height;\n        } else {\n          cropBox.minLeft = 0;\n          cropBox.minTop = 0;\n          cropBox.maxLeft = containerWidth - cropBox.width;\n          cropBox.maxTop = containerHeight - cropBox.height;\n        }\n      }\n    },\n\n    renderCropBox: function () {\n      var options = this.options;\n      var container = this.container;\n      var containerWidth = container.width;\n      var containerHeight = container.height;\n      var cropBox = this.cropBox;\n\n      if (cropBox.width > cropBox.maxWidth || cropBox.width < cropBox.minWidth) {\n        cropBox.left = cropBox.oldLeft;\n      }\n\n      if (cropBox.height > cropBox.maxHeight || cropBox.height < cropBox.minHeight) {\n        cropBox.top = cropBox.oldTop;\n      }\n\n      cropBox.width = min(max(cropBox.width, cropBox.minWidth), cropBox.maxWidth);\n      cropBox.height = min(max(cropBox.height, cropBox.minHeight), cropBox.maxHeight);\n\n      this.limitCropBox(false, true);\n\n      cropBox.oldLeft = cropBox.left = min(max(cropBox.left, cropBox.minLeft), cropBox.maxLeft);\n      cropBox.oldTop = cropBox.top = min(max(cropBox.top, cropBox.minTop), cropBox.maxTop);\n\n      if (options.movable && options.cropBoxMovable) {\n\n        // Turn to move the canvas when the crop box is equal to the container\n        this.$face.data(DATA_ACTION, (cropBox.width === containerWidth && cropBox.height === containerHeight) ? ACTION_MOVE : ACTION_ALL);\n      }\n\n      this.$cropBox.css({\n        width: cropBox.width,\n        height: cropBox.height,\n        left: cropBox.left,\n        top: cropBox.top\n      });\n\n      if (this.isCropped && this.isLimited) {\n        this.limitCanvas(true, true);\n      }\n\n      if (!this.isDisabled) {\n        this.output();\n      }\n    },\n\n    output: function () {\n      this.preview();\n\n      if (this.isCompleted) {\n        this.trigger(EVENT_CROP, this.getData());\n      }\n    },\n\n    initPreview: function () {\n      var crossOrigin = getCrossOrigin(this.crossOrigin);\n      var url = crossOrigin ? this.crossOriginUrl : this.url;\n      var $clone2;\n\n      this.$preview = $(this.options.preview);\n      this.$clone2 = $clone2 = $('<img' + crossOrigin + ' src=\"' + url + '\">');\n      this.$viewBox.html($clone2);\n      this.$preview.each(function () {\n        var $this = $(this);\n\n        // Save the original size for recover\n        $this.data(DATA_PREVIEW, {\n          width: $this.width(),\n          height: $this.height(),\n          html: $this.html()\n        });\n\n        /**\n         * Override img element styles\n         * Add `display:block` to avoid margin top issue\n         * (Occur only when margin-top <= -height)\n         */\n        $this.html(\n          '<img' + crossOrigin + ' src=\"' + url + '\" style=\"' +\n          'display:block;width:100%;height:auto;' +\n          'min-width:0!important;min-height:0!important;' +\n          'max-width:none!important;max-height:none!important;' +\n          'image-orientation:0deg!important;\">'\n        );\n      });\n    },\n\n    resetPreview: function () {\n      this.$preview.each(function () {\n        var $this = $(this);\n        var data = $this.data(DATA_PREVIEW);\n\n        $this.css({\n          width: data.width,\n          height: data.height\n        }).html(data.html).removeData(DATA_PREVIEW);\n      });\n    },\n\n    preview: function () {\n      var image = this.image;\n      var canvas = this.canvas;\n      var cropBox = this.cropBox;\n      var cropBoxWidth = cropBox.width;\n      var cropBoxHeight = cropBox.height;\n      var width = image.width;\n      var height = image.height;\n      var left = cropBox.left - canvas.left - image.left;\n      var top = cropBox.top - canvas.top - image.top;\n\n      if (!this.isCropped || this.isDisabled) {\n        return;\n      }\n\n      this.$clone2.css({\n        width: width,\n        height: height,\n        marginLeft: -left,\n        marginTop: -top,\n        transform: getTransform(image)\n      });\n\n      this.$preview.each(function () {\n        var $this = $(this);\n        var data = $this.data(DATA_PREVIEW);\n        var originalWidth = data.width;\n        var originalHeight = data.height;\n        var newWidth = originalWidth;\n        var newHeight = originalHeight;\n        var ratio = 1;\n\n        if (cropBoxWidth) {\n          ratio = originalWidth / cropBoxWidth;\n          newHeight = cropBoxHeight * ratio;\n        }\n\n        if (cropBoxHeight && newHeight > originalHeight) {\n          ratio = originalHeight / cropBoxHeight;\n          newWidth = cropBoxWidth * ratio;\n          newHeight = originalHeight;\n        }\n\n        $this.css({\n          width: newWidth,\n          height: newHeight\n        }).find('img').css({\n          width: width * ratio,\n          height: height * ratio,\n          marginLeft: -left * ratio,\n          marginTop: -top * ratio,\n          transform: getTransform(image)\n        });\n      });\n    },\n\n    bind: function () {\n      var options = this.options;\n      var $this = this.$element;\n      var $cropper = this.$cropper;\n\n      if ($.isFunction(options.cropstart)) {\n        $this.on(EVENT_CROP_START, options.cropstart);\n      }\n\n      if ($.isFunction(options.cropmove)) {\n        $this.on(EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if ($.isFunction(options.cropend)) {\n        $this.on(EVENT_CROP_END, options.cropend);\n      }\n\n      if ($.isFunction(options.crop)) {\n        $this.on(EVENT_CROP, options.crop);\n      }\n\n      if ($.isFunction(options.zoom)) {\n        $this.on(EVENT_ZOOM, options.zoom);\n      }\n\n      $cropper.on(EVENT_MOUSE_DOWN, $.proxy(this.cropStart, this));\n\n      if (options.zoomable && options.zoomOnWheel) {\n        $cropper.on(EVENT_WHEEL, $.proxy(this.wheel, this));\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        $cropper.on(EVENT_DBLCLICK, $.proxy(this.dblclick, this));\n      }\n\n      $document.\n        on(EVENT_MOUSE_MOVE, (this._cropMove = proxy(this.cropMove, this))).\n        on(EVENT_MOUSE_UP, (this._cropEnd = proxy(this.cropEnd, this)));\n\n      if (options.responsive) {\n        $window.on(EVENT_RESIZE, (this._resize = proxy(this.resize, this)));\n      }\n    },\n\n    unbind: function () {\n      var options = this.options;\n      var $this = this.$element;\n      var $cropper = this.$cropper;\n\n      if ($.isFunction(options.cropstart)) {\n        $this.off(EVENT_CROP_START, options.cropstart);\n      }\n\n      if ($.isFunction(options.cropmove)) {\n        $this.off(EVENT_CROP_MOVE, options.cropmove);\n      }\n\n      if ($.isFunction(options.cropend)) {\n        $this.off(EVENT_CROP_END, options.cropend);\n      }\n\n      if ($.isFunction(options.crop)) {\n        $this.off(EVENT_CROP, options.crop);\n      }\n\n      if ($.isFunction(options.zoom)) {\n        $this.off(EVENT_ZOOM, options.zoom);\n      }\n\n      $cropper.off(EVENT_MOUSE_DOWN, this.cropStart);\n\n      if (options.zoomable && options.zoomOnWheel) {\n        $cropper.off(EVENT_WHEEL, this.wheel);\n      }\n\n      if (options.toggleDragModeOnDblclick) {\n        $cropper.off(EVENT_DBLCLICK, this.dblclick);\n      }\n\n      $document.\n        off(EVENT_MOUSE_MOVE, this._cropMove).\n        off(EVENT_MOUSE_UP, this._cropEnd);\n\n      if (options.responsive) {\n        $window.off(EVENT_RESIZE, this._resize);\n      }\n    },\n\n    resize: function () {\n      var restore = this.options.restore;\n      var $container = this.$container;\n      var container = this.container;\n      var canvasData;\n      var cropBoxData;\n      var ratio;\n\n      // Check `container` is necessary for IE8\n      if (this.isDisabled || !container) {\n        return;\n      }\n\n      ratio = $container.width() / container.width;\n\n      // Resize when width changed or height changed\n      if (ratio !== 1 || $container.height() !== container.height) {\n        if (restore) {\n          canvasData = this.getCanvasData();\n          cropBoxData = this.getCropBoxData();\n        }\n\n        this.render();\n\n        if (restore) {\n          this.setCanvasData($.each(canvasData, function (i, n) {\n            canvasData[i] = n * ratio;\n          }));\n          this.setCropBoxData($.each(cropBoxData, function (i, n) {\n            cropBoxData[i] = n * ratio;\n          }));\n        }\n      }\n    },\n\n    dblclick: function () {\n      if (this.isDisabled) {\n        return;\n      }\n\n      if (this.$dragBox.hasClass(CLASS_CROP)) {\n        this.setDragMode(ACTION_MOVE);\n      } else {\n        this.setDragMode(ACTION_CROP);\n      }\n    },\n\n    wheel: function (event) {\n      var e = event.originalEvent || event;\n      var ratio = num(this.options.wheelZoomRatio) || 0.1;\n      var delta = 1;\n\n      if (this.isDisabled) {\n        return;\n      }\n\n      event.preventDefault();\n\n      // Limit wheel speed to prevent zoom too fast\n      if (this.wheeling) {\n        return;\n      }\n\n      this.wheeling = true;\n\n      setTimeout($.proxy(function () {\n        this.wheeling = false;\n      }, this), 50);\n\n      if (e.deltaY) {\n        delta = e.deltaY > 0 ? 1 : -1;\n      } else if (e.wheelDelta) {\n        delta = -e.wheelDelta / 120;\n      } else if (e.detail) {\n        delta = e.detail > 0 ? 1 : -1;\n      }\n\n      this.zoom(-delta * ratio, event);\n    },\n\n    cropStart: function (event) {\n      var options = this.options;\n      var originalEvent = event.originalEvent;\n      var touches = originalEvent && originalEvent.touches;\n      var e = event;\n      var touchesLength;\n      var action;\n\n      if (this.isDisabled) {\n        return;\n      }\n\n      if (touches) {\n        touchesLength = touches.length;\n\n        if (touchesLength > 1) {\n          if (options.zoomable && options.zoomOnTouch && touchesLength === 2) {\n            e = touches[1];\n            this.startX2 = e.pageX;\n            this.startY2 = e.pageY;\n            action = ACTION_ZOOM;\n          } else {\n            return;\n          }\n        }\n\n        e = touches[0];\n      }\n\n      action = action || $(e.target).data(DATA_ACTION);\n\n      if (REGEXP_ACTIONS.test(action)) {\n        if (this.trigger(EVENT_CROP_START, {\n          originalEvent: originalEvent,\n          action: action\n        }).isDefaultPrevented()) {\n          return;\n        }\n\n        event.preventDefault();\n\n        this.action = action;\n        this.cropping = false;\n\n        // IE8  has `event.pageX/Y`, but not `event.originalEvent.pageX/Y`\n        // IE10 has `event.originalEvent.pageX/Y`, but not `event.pageX/Y`\n        this.startX = e.pageX || originalEvent && originalEvent.pageX;\n        this.startY = e.pageY || originalEvent && originalEvent.pageY;\n\n        if (action === ACTION_CROP) {\n          this.cropping = true;\n          this.$dragBox.addClass(CLASS_MODAL);\n        }\n      }\n    },\n\n    cropMove: function (event) {\n      var options = this.options;\n      var originalEvent = event.originalEvent;\n      var touches = originalEvent && originalEvent.touches;\n      var e = event;\n      var action = this.action;\n      var touchesLength;\n\n      if (this.isDisabled) {\n        return;\n      }\n\n      if (touches) {\n        touchesLength = touches.length;\n\n        if (touchesLength > 1) {\n          if (options.zoomable && options.zoomOnTouch && touchesLength === 2) {\n            e = touches[1];\n            this.endX2 = e.pageX;\n            this.endY2 = e.pageY;\n          } else {\n            return;\n          }\n        }\n\n        e = touches[0];\n      }\n\n      if (action) {\n        if (this.trigger(EVENT_CROP_MOVE, {\n          originalEvent: originalEvent,\n          action: action\n        }).isDefaultPrevented()) {\n          return;\n        }\n\n        event.preventDefault();\n\n        this.endX = e.pageX || originalEvent && originalEvent.pageX;\n        this.endY = e.pageY || originalEvent && originalEvent.pageY;\n\n        this.change(e.shiftKey, action === ACTION_ZOOM ? event : null);\n      }\n    },\n\n    cropEnd: function (event) {\n      var originalEvent = event.originalEvent;\n      var action = this.action;\n\n      if (this.isDisabled) {\n        return;\n      }\n\n      if (action) {\n        event.preventDefault();\n\n        if (this.cropping) {\n          this.cropping = false;\n          this.$dragBox.toggleClass(CLASS_MODAL, this.isCropped && this.options.modal);\n        }\n\n        this.action = '';\n\n        this.trigger(EVENT_CROP_END, {\n          originalEvent: originalEvent,\n          action: action\n        });\n      }\n    },\n\n    change: function (shiftKey, event) {\n      var options = this.options;\n      var aspectRatio = options.aspectRatio;\n      var action = this.action;\n      var container = this.container;\n      var canvas = this.canvas;\n      var cropBox = this.cropBox;\n      var width = cropBox.width;\n      var height = cropBox.height;\n      var left = cropBox.left;\n      var top = cropBox.top;\n      var right = left + width;\n      var bottom = top + height;\n      var minLeft = 0;\n      var minTop = 0;\n      var maxWidth = container.width;\n      var maxHeight = container.height;\n      var renderable = true;\n      var offset;\n      var range;\n\n      // Locking aspect ratio in \"free mode\" by holding shift key (#259)\n      if (!aspectRatio && shiftKey) {\n        aspectRatio = width && height ? width / height : 1;\n      }\n\n      if (this.isLimited) {\n        minLeft = cropBox.minLeft;\n        minTop = cropBox.minTop;\n        maxWidth = minLeft + min(container.width, canvas.left + canvas.width);\n        maxHeight = minTop + min(container.height, canvas.top + canvas.height);\n      }\n\n      range = {\n        x: this.endX - this.startX,\n        y: this.endY - this.startY\n      };\n\n      if (aspectRatio) {\n        range.X = range.y * aspectRatio;\n        range.Y = range.x / aspectRatio;\n      }\n\n      switch (action) {\n        // Move crop box\n        case ACTION_ALL:\n          left += range.x;\n          top += range.y;\n          break;\n\n        // Resize crop box\n        case ACTION_EAST:\n          if (range.x >= 0 && (right >= maxWidth || aspectRatio &&\n            (top <= minTop || bottom >= maxHeight))) {\n\n            renderable = false;\n            break;\n          }\n\n          width += range.x;\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top -= range.Y / 2;\n          }\n\n          if (width < 0) {\n            action = ACTION_WEST;\n            width = 0;\n          }\n\n          break;\n\n        case ACTION_NORTH:\n          if (range.y <= 0 && (top <= minTop || aspectRatio &&\n            (left <= minLeft || right >= maxWidth))) {\n\n            renderable = false;\n            break;\n          }\n\n          height -= range.y;\n          top += range.y;\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left += range.X / 2;\n          }\n\n          if (height < 0) {\n            action = ACTION_SOUTH;\n            height = 0;\n          }\n\n          break;\n\n        case ACTION_WEST:\n          if (range.x <= 0 && (left <= minLeft || aspectRatio &&\n            (top <= minTop || bottom >= maxHeight))) {\n\n            renderable = false;\n            break;\n          }\n\n          width -= range.x;\n          left += range.x;\n\n          if (aspectRatio) {\n            height = width / aspectRatio;\n            top += range.Y / 2;\n          }\n\n          if (width < 0) {\n            action = ACTION_EAST;\n            width = 0;\n          }\n\n          break;\n\n        case ACTION_SOUTH:\n          if (range.y >= 0 && (bottom >= maxHeight || aspectRatio &&\n            (left <= minLeft || right >= maxWidth))) {\n\n            renderable = false;\n            break;\n          }\n\n          height += range.y;\n\n          if (aspectRatio) {\n            width = height * aspectRatio;\n            left -= range.X / 2;\n          }\n\n          if (height < 0) {\n            action = ACTION_NORTH;\n            height = 0;\n          }\n\n          break;\n\n        case ACTION_NORTH_EAST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {\n              renderable = false;\n              break;\n            }\n\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n          } else {\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = 0;\n            width = 0;\n          } else if (width < 0) {\n            action = ACTION_NORTH_WEST;\n            width = 0;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = 0;\n          }\n\n          break;\n\n        case ACTION_NORTH_WEST:\n          if (aspectRatio) {\n            if (range.y <= 0 && (top <= minTop || left <= minLeft)) {\n              renderable = false;\n              break;\n            }\n\n            height -= range.y;\n            top += range.y;\n            width = height * aspectRatio;\n            left += range.X;\n          } else {\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y <= 0 && top <= minTop) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y <= 0) {\n              if (top > minTop) {\n                height -= range.y;\n                top += range.y;\n              }\n            } else {\n              height -= range.y;\n              top += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_SOUTH_EAST;\n            height = 0;\n            width = 0;\n          } else if (width < 0) {\n            action = ACTION_NORTH_EAST;\n            width = 0;\n          } else if (height < 0) {\n            action = ACTION_SOUTH_WEST;\n            height = 0;\n          }\n\n          break;\n\n        case ACTION_SOUTH_WEST:\n          if (aspectRatio) {\n            if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            width -= range.x;\n            left += range.x;\n            height = width / aspectRatio;\n          } else {\n            if (range.x <= 0) {\n              if (left > minLeft) {\n                width -= range.x;\n                left += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width -= range.x;\n              left += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = 0;\n            width = 0;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_EAST;\n            width = 0;\n          } else if (height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = 0;\n          }\n\n          break;\n\n        case ACTION_SOUTH_EAST:\n          if (aspectRatio) {\n            if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {\n              renderable = false;\n              break;\n            }\n\n            width += range.x;\n            height = width / aspectRatio;\n          } else {\n            if (range.x >= 0) {\n              if (right < maxWidth) {\n                width += range.x;\n              } else if (range.y >= 0 && bottom >= maxHeight) {\n                renderable = false;\n              }\n            } else {\n              width += range.x;\n            }\n\n            if (range.y >= 0) {\n              if (bottom < maxHeight) {\n                height += range.y;\n              }\n            } else {\n              height += range.y;\n            }\n          }\n\n          if (width < 0 && height < 0) {\n            action = ACTION_NORTH_WEST;\n            height = 0;\n            width = 0;\n          } else if (width < 0) {\n            action = ACTION_SOUTH_WEST;\n            width = 0;\n          } else if (height < 0) {\n            action = ACTION_NORTH_EAST;\n            height = 0;\n          }\n\n          break;\n\n        // Move canvas\n        case ACTION_MOVE:\n          this.move(range.x, range.y);\n          renderable = false;\n          break;\n\n        // Zoom canvas\n        case ACTION_ZOOM:\n          this.zoom((function (x1, y1, x2, y2) {\n            var z1 = sqrt(x1 * x1 + y1 * y1);\n            var z2 = sqrt(x2 * x2 + y2 * y2);\n\n            return (z2 - z1) / z1;\n          })(\n            abs(this.startX - this.startX2),\n            abs(this.startY - this.startY2),\n            abs(this.endX - this.endX2),\n            abs(this.endY - this.endY2)\n          ), event);\n          this.startX2 = this.endX2;\n          this.startY2 = this.endY2;\n          renderable = false;\n          break;\n\n        // Create crop box\n        case ACTION_CROP:\n          if (!range.x || !range.y) {\n            renderable = false;\n            break;\n          }\n\n          offset = this.$cropper.offset();\n          left = this.startX - offset.left;\n          top = this.startY - offset.top;\n          width = cropBox.minWidth;\n          height = cropBox.minHeight;\n\n          if (range.x > 0) {\n            action = range.y > 0 ? ACTION_SOUTH_EAST : ACTION_NORTH_EAST;\n          } else if (range.x < 0) {\n            left -= width;\n            action = range.y > 0 ? ACTION_SOUTH_WEST : ACTION_NORTH_WEST;\n          }\n\n          if (range.y < 0) {\n            top -= height;\n          }\n\n          // Show the crop box if is hidden\n          if (!this.isCropped) {\n            this.$cropBox.removeClass(CLASS_HIDDEN);\n            this.isCropped = true;\n\n            if (this.isLimited) {\n              this.limitCropBox(true, true);\n            }\n          }\n\n          break;\n\n        // No default\n      }\n\n      if (renderable) {\n        cropBox.width = width;\n        cropBox.height = height;\n        cropBox.left = left;\n        cropBox.top = top;\n        this.action = action;\n\n        this.renderCropBox();\n      }\n\n      // Override\n      this.startX = this.endX;\n      this.startY = this.endY;\n    },\n\n    // Show the crop box manually\n    crop: function () {\n      if (!this.isBuilt || this.isDisabled) {\n        return;\n      }\n\n      if (!this.isCropped) {\n        this.isCropped = true;\n        this.limitCropBox(true, true);\n\n        if (this.options.modal) {\n          this.$dragBox.addClass(CLASS_MODAL);\n        }\n\n        this.$cropBox.removeClass(CLASS_HIDDEN);\n      }\n\n      this.setCropBoxData(this.initialCropBox);\n    },\n\n    // Reset the image and crop box to their initial states\n    reset: function () {\n      if (!this.isBuilt || this.isDisabled) {\n        return;\n      }\n\n      this.image = $.extend({}, this.initialImage);\n      this.canvas = $.extend({}, this.initialCanvas);\n      this.cropBox = $.extend({}, this.initialCropBox);\n\n      this.renderCanvas();\n\n      if (this.isCropped) {\n        this.renderCropBox();\n      }\n    },\n\n    // Clear the crop box\n    clear: function () {\n      if (!this.isCropped || this.isDisabled) {\n        return;\n      }\n\n      $.extend(this.cropBox, {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0\n      });\n\n      this.isCropped = false;\n      this.renderCropBox();\n\n      this.limitCanvas(true, true);\n\n      // Render canvas after crop box rendered\n      this.renderCanvas();\n\n      this.$dragBox.removeClass(CLASS_MODAL);\n      this.$cropBox.addClass(CLASS_HIDDEN);\n    },\n\n    /**\n     * Replace the image's src and rebuild the cropper\n     *\n     * @param {String} url\n     * @param {Boolean} onlyColorChanged (optional)\n     */\n    replace: function (url, onlyColorChanged) {\n      if (!this.isDisabled && url) {\n        if (this.isImg) {\n          this.$element.attr('src', url);\n        }\n\n        if (onlyColorChanged) {\n          this.url = url;\n          this.$clone.attr('src', url);\n\n          if (this.isBuilt) {\n            this.$preview.find('img').add(this.$clone2).attr('src', url);\n          }\n        } else {\n          if (this.isImg) {\n            this.isReplaced = true;\n          }\n\n          // Clear previous data\n          this.options.data = null;\n          this.load(url);\n        }\n      }\n    },\n\n    // Enable (unfreeze) the cropper\n    enable: function () {\n      if (this.isBuilt) {\n        this.isDisabled = false;\n        this.$cropper.removeClass(CLASS_DISABLED);\n      }\n    },\n\n    // Disable (freeze) the cropper\n    disable: function () {\n      if (this.isBuilt) {\n        this.isDisabled = true;\n        this.$cropper.addClass(CLASS_DISABLED);\n      }\n    },\n\n    // Destroy the cropper and remove the instance from the image\n    destroy: function () {\n      var $this = this.$element;\n\n      if (this.isLoaded) {\n        if (this.isImg && this.isReplaced) {\n          $this.attr('src', this.originalUrl);\n        }\n\n        this.unbuild();\n        $this.removeClass(CLASS_HIDDEN);\n      } else {\n        if (this.isImg) {\n          $this.off(EVENT_LOAD, this.start);\n        } else if (this.$clone) {\n          this.$clone.remove();\n        }\n      }\n\n      $this.removeData(NAMESPACE);\n    },\n\n    /**\n     * Move the canvas with relative offsets\n     *\n     * @param {Number} offsetX\n     * @param {Number} offsetY (optional)\n     */\n    move: function (offsetX, offsetY) {\n      var canvas = this.canvas;\n\n      this.moveTo(\n        isUndefined(offsetX) ? offsetX : canvas.left + num(offsetX),\n        isUndefined(offsetY) ? offsetY : canvas.top + num(offsetY)\n      );\n    },\n\n    /**\n     * Move the canvas to an absolute point\n     *\n     * @param {Number} x\n     * @param {Number} y (optional)\n     */\n    moveTo: function (x, y) {\n      var canvas = this.canvas;\n      var isChanged = false;\n\n      // If \"y\" is not present, its default value is \"x\"\n      if (isUndefined(y)) {\n        y = x;\n      }\n\n      x = num(x);\n      y = num(y);\n\n      if (this.isBuilt && !this.isDisabled && this.options.movable) {\n        if (isNumber(x)) {\n          canvas.left = x;\n          isChanged = true;\n        }\n\n        if (isNumber(y)) {\n          canvas.top = y;\n          isChanged = true;\n        }\n\n        if (isChanged) {\n          this.renderCanvas(true);\n        }\n      }\n    },\n\n    /**\n     * Zoom the canvas with a relative ratio\n     *\n     * @param {Number} ratio\n     * @param {jQuery Event} _event (private)\n     */\n    zoom: function (ratio, _event) {\n      var canvas = this.canvas;\n\n      ratio = num(ratio);\n\n      if (ratio < 0) {\n        ratio =  1 / (1 - ratio);\n      } else {\n        ratio = 1 + ratio;\n      }\n\n      this.zoomTo(canvas.width * ratio / canvas.naturalWidth, _event);\n    },\n\n    /**\n     * Zoom the canvas to an absolute ratio\n     *\n     * @param {Number} ratio\n     * @param {jQuery Event} _event (private)\n     */\n    zoomTo: function (ratio, _event) {\n      var options = this.options;\n      var canvas = this.canvas;\n      var width = canvas.width;\n      var height = canvas.height;\n      var naturalWidth = canvas.naturalWidth;\n      var naturalHeight = canvas.naturalHeight;\n      var originalEvent;\n      var newWidth;\n      var newHeight;\n      var offset;\n      var center;\n\n      ratio = num(ratio);\n\n      if (ratio >= 0 && this.isBuilt && !this.isDisabled && options.zoomable) {\n        newWidth = naturalWidth * ratio;\n        newHeight = naturalHeight * ratio;\n\n        if (_event) {\n          originalEvent = _event.originalEvent;\n        }\n\n        if (this.trigger(EVENT_ZOOM, {\n          originalEvent: originalEvent,\n          oldRatio: width / naturalWidth,\n          ratio: newWidth / naturalWidth\n        }).isDefaultPrevented()) {\n          return;\n        }\n\n        if (originalEvent) {\n          offset = this.$cropper.offset();\n          center = originalEvent.touches ? getTouchesCenter(originalEvent.touches) : {\n            pageX: _event.pageX || originalEvent.pageX || 0,\n            pageY: _event.pageY || originalEvent.pageY || 0\n          };\n\n          // Zoom from the triggering point of the event\n          canvas.left -= (newWidth - width) * (\n            ((center.pageX - offset.left) - canvas.left) / width\n          );\n          canvas.top -= (newHeight - height) * (\n            ((center.pageY - offset.top) - canvas.top) / height\n          );\n        } else {\n\n          // Zoom from the center of the canvas\n          canvas.left -= (newWidth - width) / 2;\n          canvas.top -= (newHeight - height) / 2;\n        }\n\n        canvas.width = newWidth;\n        canvas.height = newHeight;\n        this.renderCanvas(true);\n      }\n    },\n\n    /**\n     * Rotate the canvas with a relative degree\n     *\n     * @param {Number} degree\n     */\n    rotate: function (degree) {\n      this.rotateTo((this.image.rotate || 0) + num(degree));\n    },\n\n    /**\n     * Rotate the canvas to an absolute degree\n     * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function#rotate()\n     *\n     * @param {Number} degree\n     */\n    rotateTo: function (degree) {\n      degree = num(degree);\n\n      if (isNumber(degree) && this.isBuilt && !this.isDisabled && this.options.rotatable) {\n        this.image.rotate = degree % 360;\n        this.isRotated = true;\n        this.renderCanvas(true);\n      }\n    },\n\n    /**\n     * Scale the image\n     * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function#scale()\n     *\n     * @param {Number} scaleX\n     * @param {Number} scaleY (optional)\n     */\n    scale: function (scaleX, scaleY) {\n      var image = this.image;\n      var isChanged = false;\n\n      // If \"scaleY\" is not present, its default value is \"scaleX\"\n      if (isUndefined(scaleY)) {\n        scaleY = scaleX;\n      }\n\n      scaleX = num(scaleX);\n      scaleY = num(scaleY);\n\n      if (this.isBuilt && !this.isDisabled && this.options.scalable) {\n        if (isNumber(scaleX)) {\n          image.scaleX = scaleX;\n          isChanged = true;\n        }\n\n        if (isNumber(scaleY)) {\n          image.scaleY = scaleY;\n          isChanged = true;\n        }\n\n        if (isChanged) {\n          this.renderImage(true);\n        }\n      }\n    },\n\n    /**\n     * Scale the abscissa of the image\n     *\n     * @param {Number} scaleX\n     */\n    scaleX: function (scaleX) {\n      var scaleY = this.image.scaleY;\n\n      this.scale(scaleX, isNumber(scaleY) ? scaleY : 1);\n    },\n\n    /**\n     * Scale the ordinate of the image\n     *\n     * @param {Number} scaleY\n     */\n    scaleY: function (scaleY) {\n      var scaleX = this.image.scaleX;\n\n      this.scale(isNumber(scaleX) ? scaleX : 1, scaleY);\n    },\n\n    /**\n     * Get the cropped area position and size data (base on the original image)\n     *\n     * @param {Boolean} isRounded (optional)\n     * @return {Object} data\n     */\n    getData: function (isRounded) {\n      var options = this.options;\n      var image = this.image;\n      var canvas = this.canvas;\n      var cropBox = this.cropBox;\n      var ratio;\n      var data;\n\n      if (this.isBuilt && this.isCropped) {\n        data = {\n          x: cropBox.left - canvas.left,\n          y: cropBox.top - canvas.top,\n          width: cropBox.width,\n          height: cropBox.height\n        };\n\n        ratio = image.width / image.naturalWidth;\n\n        $.each(data, function (i, n) {\n          n = n / ratio;\n          data[i] = isRounded ? round(n) : n;\n        });\n\n      } else {\n        data = {\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        };\n      }\n\n      if (options.rotatable) {\n        data.rotate = image.rotate || 0;\n      }\n\n      if (options.scalable) {\n        data.scaleX = image.scaleX || 1;\n        data.scaleY = image.scaleY || 1;\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the cropped area position and size with new data\n     *\n     * @param {Object} data\n     */\n    setData: function (data) {\n      var options = this.options;\n      var image = this.image;\n      var canvas = this.canvas;\n      var cropBoxData = {};\n      var isRotated;\n      var isScaled;\n      var ratio;\n\n      if ($.isFunction(data)) {\n        data = data.call(this.element);\n      }\n\n      if (this.isBuilt && !this.isDisabled && $.isPlainObject(data)) {\n        if (options.rotatable) {\n          if (isNumber(data.rotate) && data.rotate !== image.rotate) {\n            image.rotate = data.rotate;\n            this.isRotated = isRotated = true;\n          }\n        }\n\n        if (options.scalable) {\n          if (isNumber(data.scaleX) && data.scaleX !== image.scaleX) {\n            image.scaleX = data.scaleX;\n            isScaled = true;\n          }\n\n          if (isNumber(data.scaleY) && data.scaleY !== image.scaleY) {\n            image.scaleY = data.scaleY;\n            isScaled = true;\n          }\n        }\n\n        if (isRotated) {\n          this.renderCanvas();\n        } else if (isScaled) {\n          this.renderImage();\n        }\n\n        ratio = image.width / image.naturalWidth;\n\n        if (isNumber(data.x)) {\n          cropBoxData.left = data.x * ratio + canvas.left;\n        }\n\n        if (isNumber(data.y)) {\n          cropBoxData.top = data.y * ratio + canvas.top;\n        }\n\n        if (isNumber(data.width)) {\n          cropBoxData.width = data.width * ratio;\n        }\n\n        if (isNumber(data.height)) {\n          cropBoxData.height = data.height * ratio;\n        }\n\n        this.setCropBoxData(cropBoxData);\n      }\n    },\n\n    /**\n     * Get the container size data\n     *\n     * @return {Object} data\n     */\n    getContainerData: function () {\n      return this.isBuilt ? this.container : {};\n    },\n\n    /**\n     * Get the image position and size data\n     *\n     * @return {Object} data\n     */\n    getImageData: function () {\n      return this.isLoaded ? this.image : {};\n    },\n\n    /**\n     * Get the canvas position and size data\n     *\n     * @return {Object} data\n     */\n    getCanvasData: function () {\n      var canvas = this.canvas;\n      var data = {};\n\n      if (this.isBuilt) {\n        $.each([\n          'left',\n          'top',\n          'width',\n          'height',\n          'naturalWidth',\n          'naturalHeight'\n        ], function (i, n) {\n          data[n] = canvas[n];\n        });\n      }\n\n      return data;\n    },\n\n    /**\n     * Set the canvas position and size with new data\n     *\n     * @param {Object} data\n     */\n    setCanvasData: function (data) {\n      var canvas = this.canvas;\n      var aspectRatio = canvas.aspectRatio;\n\n      if ($.isFunction(data)) {\n        data = data.call(this.$element);\n      }\n\n      if (this.isBuilt && !this.isDisabled && $.isPlainObject(data)) {\n        if (isNumber(data.left)) {\n          canvas.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          canvas.top = data.top;\n        }\n\n        if (isNumber(data.width)) {\n          canvas.width = data.width;\n          canvas.height = data.width / aspectRatio;\n        } else if (isNumber(data.height)) {\n          canvas.height = data.height;\n          canvas.width = data.height * aspectRatio;\n        }\n\n        this.renderCanvas(true);\n      }\n    },\n\n    /**\n     * Get the crop box position and size data\n     *\n     * @return {Object} data\n     */\n    getCropBoxData: function () {\n      var cropBox = this.cropBox;\n      var data;\n\n      if (this.isBuilt && this.isCropped) {\n        data = {\n          left: cropBox.left,\n          top: cropBox.top,\n          width: cropBox.width,\n          height: cropBox.height\n        };\n      }\n\n      return data || {};\n    },\n\n    /**\n     * Set the crop box position and size with new data\n     *\n     * @param {Object} data\n     */\n    setCropBoxData: function (data) {\n      var cropBox = this.cropBox;\n      var aspectRatio = this.options.aspectRatio;\n      var isWidthChanged;\n      var isHeightChanged;\n\n      if ($.isFunction(data)) {\n        data = data.call(this.$element);\n      }\n\n      if (this.isBuilt && this.isCropped && !this.isDisabled && $.isPlainObject(data)) {\n\n        if (isNumber(data.left)) {\n          cropBox.left = data.left;\n        }\n\n        if (isNumber(data.top)) {\n          cropBox.top = data.top;\n        }\n\n        if (isNumber(data.width)) {\n          isWidthChanged = true;\n          cropBox.width = data.width;\n        }\n\n        if (isNumber(data.height)) {\n          isHeightChanged = true;\n          cropBox.height = data.height;\n        }\n\n        if (aspectRatio) {\n          if (isWidthChanged) {\n            cropBox.height = cropBox.width / aspectRatio;\n          } else if (isHeightChanged) {\n            cropBox.width = cropBox.height * aspectRatio;\n          }\n        }\n\n        this.renderCropBox();\n      }\n    },\n\n    /**\n     * Get a canvas drawn the cropped image\n     *\n     * @param {Object} options (optional)\n     * @return {HTMLCanvasElement} canvas\n     */\n    getCroppedCanvas: function (options) {\n      var originalWidth;\n      var originalHeight;\n      var canvasWidth;\n      var canvasHeight;\n      var scaledWidth;\n      var scaledHeight;\n      var scaledRatio;\n      var aspectRatio;\n      var canvas;\n      var context;\n      var data;\n\n      if (!this.isBuilt || !SUPPORT_CANVAS) {\n        return;\n      }\n\n      if (!this.isCropped) {\n        return getSourceCanvas(this.$clone[0], this.image);\n      }\n\n      if (!$.isPlainObject(options)) {\n        options = {};\n      }\n\n      data = this.getData();\n      originalWidth = data.width;\n      originalHeight = data.height;\n      aspectRatio = originalWidth / originalHeight;\n\n      if ($.isPlainObject(options)) {\n        scaledWidth = options.width;\n        scaledHeight = options.height;\n\n        if (scaledWidth) {\n          scaledHeight = scaledWidth / aspectRatio;\n          scaledRatio = scaledWidth / originalWidth;\n        } else if (scaledHeight) {\n          scaledWidth = scaledHeight * aspectRatio;\n          scaledRatio = scaledHeight / originalHeight;\n        }\n      }\n\n      // The canvas element will use `Math.floor` on a float number, so floor first\n      canvasWidth = floor(scaledWidth || originalWidth);\n      canvasHeight = floor(scaledHeight || originalHeight);\n\n      canvas = $('<canvas>')[0];\n      canvas.width = canvasWidth;\n      canvas.height = canvasHeight;\n      context = canvas.getContext('2d');\n\n      if (options.fillColor) {\n        context.fillStyle = options.fillColor;\n        context.fillRect(0, 0, canvasWidth, canvasHeight);\n      }\n\n      // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage\n      context.drawImage.apply(context, (function () {\n        var source = getSourceCanvas(this.$clone[0], this.image);\n        var sourceWidth = source.width;\n        var sourceHeight = source.height;\n        var canvas = this.canvas;\n        var params = [source];\n\n        // Source canvas\n        var srcX = data.x + canvas.naturalWidth * (abs(data.scaleX || 1) - 1) / 2;\n        var srcY = data.y + canvas.naturalHeight * (abs(data.scaleY || 1) - 1) / 2;\n        var srcWidth;\n        var srcHeight;\n\n        // Destination canvas\n        var dstX;\n        var dstY;\n        var dstWidth;\n        var dstHeight;\n\n        if (srcX <= -originalWidth || srcX > sourceWidth) {\n          srcX = srcWidth = dstX = dstWidth = 0;\n        } else if (srcX <= 0) {\n          dstX = -srcX;\n          srcX = 0;\n          srcWidth = dstWidth = min(sourceWidth, originalWidth + srcX);\n        } else if (srcX <= sourceWidth) {\n          dstX = 0;\n          srcWidth = dstWidth = min(originalWidth, sourceWidth - srcX);\n        }\n\n        if (srcWidth <= 0 || srcY <= -originalHeight || srcY > sourceHeight) {\n          srcY = srcHeight = dstY = dstHeight = 0;\n        } else if (srcY <= 0) {\n          dstY = -srcY;\n          srcY = 0;\n          srcHeight = dstHeight = min(sourceHeight, originalHeight + srcY);\n        } else if (srcY <= sourceHeight) {\n          dstY = 0;\n          srcHeight = dstHeight = min(originalHeight, sourceHeight - srcY);\n        }\n\n        // All the numerical parameters should be integer for `drawImage` (#476)\n        params.push(floor(srcX), floor(srcY), floor(srcWidth), floor(srcHeight));\n\n        // Scale destination sizes\n        if (scaledRatio) {\n          dstX *= scaledRatio;\n          dstY *= scaledRatio;\n          dstWidth *= scaledRatio;\n          dstHeight *= scaledRatio;\n        }\n\n        // Avoid \"IndexSizeError\" in IE and Firefox\n        if (dstWidth > 0 && dstHeight > 0) {\n          params.push(floor(dstX), floor(dstY), floor(dstWidth), floor(dstHeight));\n        }\n\n        return params;\n      }).call(this));\n\n      return canvas;\n    },\n\n    /**\n     * Change the aspect ratio of the crop box\n     *\n     * @param {Number} aspectRatio\n     */\n    setAspectRatio: function (aspectRatio) {\n      var options = this.options;\n\n      if (!this.isDisabled && !isUndefined(aspectRatio)) {\n\n        // 0 -> NaN\n        options.aspectRatio = max(0, aspectRatio) || NaN;\n\n        if (this.isBuilt) {\n          this.initCropBox();\n\n          if (this.isCropped) {\n            this.renderCropBox();\n          }\n        }\n      }\n    },\n\n    /**\n     * Change the drag mode\n     *\n     * @param {String} mode (optional)\n     */\n    setDragMode: function (mode) {\n      var options = this.options;\n      var croppable;\n      var movable;\n\n      if (this.isLoaded && !this.isDisabled) {\n        croppable = mode === ACTION_CROP;\n        movable = options.movable && mode === ACTION_MOVE;\n        mode = (croppable || movable) ? mode : ACTION_NONE;\n\n        this.$dragBox.\n          data(DATA_ACTION, mode).\n          toggleClass(CLASS_CROP, croppable).\n          toggleClass(CLASS_MOVE, movable);\n\n        if (!options.cropBoxMovable) {\n\n          // Sync drag mode to crop box when it is not movable(#300)\n          this.$face.\n            data(DATA_ACTION, mode).\n            toggleClass(CLASS_CROP, croppable).\n            toggleClass(CLASS_MOVE, movable);\n        }\n      }\n    }\n  };\n\n  Cropper.DEFAULTS = {\n\n    // Define the view mode of the cropper\n    viewMode: 0, // 0, 1, 2, 3\n\n    // Define the dragging mode of the cropper\n    dragMode: 'crop', // 'crop', 'move' or 'none'\n\n    // Define the aspect ratio of the crop box\n    aspectRatio: NaN,\n\n    // An object with the previous cropping result data\n    data: null,\n\n    // A jQuery selector for adding extra containers to preview\n    preview: '',\n\n    // Re-render the cropper when resize the window\n    responsive: true,\n\n    // Restore the cropped area after resize the window\n    restore: true,\n\n    // Check if the current image is a cross-origin image\n    checkCrossOrigin: true,\n\n    // Check the current image's Exif Orientation information\n    checkOrientation: true,\n\n    // Show the black modal\n    modal: true,\n\n    // Show the dashed lines for guiding\n    guides: true,\n\n    // Show the center indicator for guiding\n    center: true,\n\n    // Show the white modal to highlight the crop box\n    highlight: true,\n\n    // Show the grid background\n    background: true,\n\n    // Enable to crop the image automatically when initialize\n    autoCrop: true,\n\n    // Define the percentage of automatic cropping area when initializes\n    autoCropArea: 0.8,\n\n    // Enable to move the image\n    movable: true,\n\n    // Enable to rotate the image\n    rotatable: true,\n\n    // Enable to scale the image\n    scalable: true,\n\n    // Enable to zoom the image\n    zoomable: true,\n\n    // Enable to zoom the image by dragging touch\n    zoomOnTouch: true,\n\n    // Enable to zoom the image by wheeling mouse\n    zoomOnWheel: true,\n\n    // Define zoom ratio when zoom the image by wheeling mouse\n    wheelZoomRatio: 0.1,\n\n    // Enable to move the crop box\n    cropBoxMovable: true,\n\n    // Enable to resize the crop box\n    cropBoxResizable: true,\n\n    // Toggle drag mode between \"crop\" and \"move\" when click twice on the cropper\n    toggleDragModeOnDblclick: true,\n\n    // Size limitation\n    minCanvasWidth: 0,\n    minCanvasHeight: 0,\n    minCropBoxWidth: 0,\n    minCropBoxHeight: 0,\n    minContainerWidth: 200,\n    minContainerHeight: 100,\n\n    // Shortcuts of events\n    build: null,\n    built: null,\n    cropstart: null,\n    cropmove: null,\n    cropend: null,\n    crop: null,\n    zoom: null\n  };\n\n  Cropper.setDefaults = function (options) {\n    $.extend(Cropper.DEFAULTS, options);\n  };\n\n  Cropper.TEMPLATE = (\n    '<div class=\"cropper-container\">' +\n      '<div class=\"cropper-wrap-box\">' +\n        '<div class=\"cropper-canvas\"></div>' +\n      '</div>' +\n      '<div class=\"cropper-drag-box\"></div>' +\n      '<div class=\"cropper-crop-box\">' +\n        '<span class=\"cropper-view-box\"></span>' +\n        '<span class=\"cropper-dashed dashed-h\"></span>' +\n        '<span class=\"cropper-dashed dashed-v\"></span>' +\n        '<span class=\"cropper-center\"></span>' +\n        '<span class=\"cropper-face\"></span>' +\n        '<span class=\"cropper-line line-e\" data-action=\"e\"></span>' +\n        '<span class=\"cropper-line line-n\" data-action=\"n\"></span>' +\n        '<span class=\"cropper-line line-w\" data-action=\"w\"></span>' +\n        '<span class=\"cropper-line line-s\" data-action=\"s\"></span>' +\n        '<span class=\"cropper-point point-e\" data-action=\"e\"></span>' +\n        '<span class=\"cropper-point point-n\" data-action=\"n\"></span>' +\n        '<span class=\"cropper-point point-w\" data-action=\"w\"></span>' +\n        '<span class=\"cropper-point point-s\" data-action=\"s\"></span>' +\n        '<span class=\"cropper-point point-ne\" data-action=\"ne\"></span>' +\n        '<span class=\"cropper-point point-nw\" data-action=\"nw\"></span>' +\n        '<span class=\"cropper-point point-sw\" data-action=\"sw\"></span>' +\n        '<span class=\"cropper-point point-se\" data-action=\"se\"></span>' +\n      '</div>' +\n    '</div>'\n  );\n\n  // Save the other cropper\n  Cropper.other = $.fn.cropper;\n\n  // Register as jQuery plugin\n  $.fn.cropper = function (option) {\n    var args = toArray(arguments, 1);\n    var result;\n\n    this.each(function () {\n      var $this = $(this);\n      var data = $this.data(NAMESPACE);\n      var options;\n      var fn;\n\n      if (!data) {\n        if (/destroy/.test(option)) {\n          return;\n        }\n\n        options = $.extend({}, $this.data(), $.isPlainObject(option) && option);\n        $this.data(NAMESPACE, (data = new Cropper(this, options)));\n      }\n\n      if (typeof option === 'string' && $.isFunction(fn = data[option])) {\n        result = fn.apply(data, args);\n      }\n    });\n\n    return isUndefined(result) ? this : result;\n  };\n\n  $.fn.cropper.Constructor = Cropper;\n  $.fn.cropper.setDefaults = Cropper.setDefaults;\n\n  // No conflict\n  $.fn.cropper.noConflict = function () {\n    $.fn.cropper = Cropper.other;\n    return this;\n  };\n\n});\n","/**\n * Created by jong on 7/29/15.\n */\n\nvar ILabCrop=function($,settings){\n    this.settings=settings;\n    this.modalContainer=$('#ilabm-container-'+settings.modal_id);\n    this.cropper=this.modalContainer.find('.ilabc-cropper');\n    this.cropperData={};\n    this.modal_id=settings.modal_id;\n\n    var cropRef=this;\n    var resizeTimerId;\n    var isResizing=false;\n\n    this.modalContainer.find('.ilabm-editor-tabs').ilabTabs({\n        currentValue: this.settings.size,\n        tabSelected:function(tab){\n            ILabModal.loadURL(tab.data('url'),true,function(response){\n                cropRef.bindUI(response);\n            });\n        }\n    });\n\n    $(window).resize(function() {\n        if (!isResizing)\n        {\n            data=cropRef.cropper.cropper('getData');\n            cropRef.settings.prev_crop_x=data.x;\n            cropRef.settings.prev_crop_y=data.y;\n            cropRef.settings.prev_crop_width=data.width;\n            cropRef.settings.prev_crop_height=data.height;\n        }\n\n        isResizing=true;\n        cropRef.updatePreviewWidth();\n        clearTimeout(resizeTimerId);\n        resizeTimerId = setTimeout(cropRef._resized, 250);\n    });\n\n\n    this.modalContainer.find('.ilabc-button-crop').on('click',function(e){\n        e.preventDefault();\n        cropRef.crop();\n        return false;\n    });\n\n    this._resized=function(){\n        cropRef.bindUI(cropRef.settings);\n        isResizing=false;\n    };\n\n    this.updatePreviewWidth=function() {\n        var width =  this.modalContainer.find('.ilab-crop-preview-title').width();\n        this.modalContainer.find('.ilab-crop-preview').css({\n            'height' : (width / cropRef.settings.aspect_ratio) + 'px',\n            'width' : width + 'px'\n        });\n    };\n\n    this.bindUI=function(settings){\n        this.settings=settings;\n\n        this.cropper.cropper('destroy');\n        this.cropper.off('built.cropper');\n\n        if (settings.hasOwnProperty('cropped_src') && settings.cropped_src !== null)\n        {\n            this.modalContainer.find('.ilab-current-crop-img').attr('src',settings.cropped_src);\n        }\n\n        if (settings.hasOwnProperty('size_title') && (settings.size_title !== null))\n        {\n            this.modalContainer.find('.ilabc-crop-size-title').text(\"Current \"+settings.size_title+\" (\"+settings.min_width+\" x \"+settings.min_height+\")\");\n        }\n\n        if (typeof settings.aspect_ratio !== 'undefined')\n        {\n            this.updatePreviewWidth();\n\n            if ((typeof settings.prev_crop_x !== 'undefined') && (settings.prev_crop_x !== null)) {\n                this.cropperData = {\n                    x : settings.prev_crop_x,\n                    y : settings.prev_crop_y,\n                    width : settings.prev_crop_width,\n                    height : settings.prev_crop_height\n                };\n            }\n\n            this.cropper.on('built.cropper',function(){\n                cropRef.updatePreviewWidth();\n            }).on('crop.cropper',function(e){\n                //console.log(e.x, e.y, e.width, e.height);\n            }).cropper({\n                viewMode: 1,\n                aspectRatio : settings.aspect_ratio,\n                minWidth : settings.min_width,\n                minHeight : settings.min_height,\n                modal : true,\n                zoomable: false,\n                mouseWheelZoom: false,\n                dragCrop: false,\n                autoCropArea: 1,\n                movable: false,\n                data : this.cropperData,\n                checkImageOrigin: false,\n                checkCrossOrigin: false,\n                responsive: true,\n                preview: '#ilabm-container-'+this.modal_id+' .ilab-crop-preview'\n            });\n        }\n    };\n\n    this.crop=function(){\n        var cropRef=this;\n\n        this.displayStatus('Saving crop ...');\n\n        var data = this.cropper.cropper('getData');\n        data['action'] = 'ilab_perform_crop';\n        data['post'] = this.settings.image_id;\n        data['size'] = this.settings.size;\n        jQuery.post(ajaxurl, data, function(response) {\n            if (response.status=='ok') {\n                cropRef.modalContainer.find('.ilab-current-crop-img').one('load',function(){\n                   cropRef.hideStatus();\n                });\n                cropRef.modalContainer.find('.ilab-current-crop-img').attr('src', response.src);\n            }\n            else\n                cropRef.hideStatus();\n        });\n    };\n\n    this.displayStatus=function(message){\n        cropRef.modalContainer.find('.ilabm-status-label').text(message);\n        cropRef.modalContainer.find('.ilabm-status-container').removeClass('is-hidden');\n    };\n\n    this.hideStatus=function(){\n        cropRef.modalContainer.find('.ilabm-status-container').addClass('is-hidden');\n    };\n\n    this.bindUI(settings);\n};\n","/**\n * Created by jong on 8/8/15.\n */\n\nvar ImgixComponents=(function(){\n    var byteToHex=function(byte) {\n        var hexChar = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\",\"8\", \"9\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\"];\n        return hexChar[(byte >> 4) & 0x0f] + hexChar[byte & 0x0f];\n    };\n\n    return {\n        utilities: {\n          byteToHex:byteToHex\n      }\n    };\n})();","(function($){\n\n    $.fn.imgixLabel=function(options){\n        var settings= $.extend({},options);\n\n        return this.each(function(){\n            var label=$(this);\n\n            var changeTimerId;\n\n            var currentVal=0;\n\n            var textInput=$('<input type=\"text\" class=\"imgix-label-editor is-hidden\" pattern=\"[0-9-]+\">');\n            label.parent().append(textInput);\n\n            textInput.on('keydown',function(e){\n                if (e.keyCode==27) {\n                    textInput.off('blur');\n                    textInput.off('input');\n\n                    textInput.addClass('is-hidden');\n                    if (settings.hasOwnProperty('changed'))\n                        settings.changed(currentVal);\n\n                    label.text(currentVal);\n                }\n                else if (e.keyCode==13) {\n                    textInput.off('blur');\n                    textInput.off('input');\n\n                    var val=parseInt(textInput.val());\n                    textInput.addClass('is-hidden');\n                    if (settings.hasOwnProperty('changed'))\n                        settings.changed(val);\n\n                    label.text(val);\n                }\n                else if (e.keyCode==38) {\n                    var val=parseInt(textInput.val());\n                    val++;\n                    textInput.val(val);\n                    if (settings.hasOwnProperty('changed'))\n                        settings.changed(val);\n                    label.text(val);\n                }\n                else if (e.keyCode==40) {\n                    var val=parseInt(textInput.val());\n                    val--;\n                    textInput.val(val);\n                    if (settings.hasOwnProperty('changed'))\n                        settings.changed(val);\n                    label.text(val);\n\n                }\n                else {\n                    if (e.keyCode<57)\n                        return true;\n                    else if ((e.keyCode>90) && (e.keyCode<105))\n                        return true;\n                    else if (e.keyCode==109)\n                        return true;\n                    else if (e.metaKey)\n                        return true;\n\n                    e.preventDefault();\n                    return false;\n                }\n            });\n\n            label.on('click',function(e){\n                e.preventDefault();\n\n                textInput.on('input',function(){\n                    var val=parseInt(textInput.val());\n                    if (settings.hasOwnProperty('changed'))\n                    {\n                        clearTimeout(changeTimerId);\n                        changeTimerId = setTimeout(function(){\n                            settings.changed(val);\n                        }, 500);\n                    }\n\n                    label.text(val);\n                });\n\n                textInput.on('blur',function(){\n                    var val=parseInt(textInput.val());\n                    textInput.addClass('is-hidden');\n                    if (settings.hasOwnProperty('changed'))\n                        settings.changed(val);\n\n                    label.text(val);\n                });\n\n                currentVal=(settings.hasOwnProperty('currentValue')) ? settings.currentValue() : 0;\n                textInput.val(currentVal);\n                textInput.removeClass('is-hidden');\n                textInput.select();\n                textInput.focus();\n\n                return false;\n            });\n        });\n    };\n\n}(jQuery));\n","\n(function($){\n    ImgixComponents.ImgixSlider=function(delegate, container)\n    {\n        this.delegate=delegate;\n        this.container=container;\n        this.valueLabel=container.find('.imgix-param-title-right > h3');\n        this.slider=container.find('.imgix-param');\n        this.resetButton=container.find('.imgix-param-reset');\n\n        this.defaultValue=container.data('default-value');\n        this.param=container.data('param');\n\n        var sliderRef=this;\n\n        this.container.find('.imgix-param-label').imgixLabel({\n            currentValue:function(){\n                return sliderRef.slider.val();\n            },\n            changed:function(newVal){\n                if (newVal==sliderRef.slider.val())\n                    return;\n\n                sliderRef.slider.val(newVal);\n                sliderRef.slider.hide().show(0);\n                sliderRef.delegate.preview();\n            }\n        });\n\n        this.resetButton.on('click',function(){\n            sliderRef.reset();\n        });\n\n        this.slider.on('input',function(){\n            sliderRef.valueLabel.text(sliderRef.slider.val());\n        });\n\n        this.slider.on('change',function(){\n            sliderRef.valueLabel.text(sliderRef.slider.val());\n            sliderRef.delegate.preview();\n        });\n    };\n\n    ImgixComponents.ImgixSlider.prototype.destroy=function() {\n        this.slider.off('input');\n        this.slider.off('change');\n        this.resetButton.off('click');\n    };\n\n    ImgixComponents.ImgixSlider.prototype.reset=function(data) {\n        var val;\n\n        if (data && data.hasOwnProperty(this.param))\n            val=data[this.param];\n        else\n            val=this.defaultValue;\n\n        this.valueLabel.text(val);\n        this.slider.val(val);\n        this.slider.hide().show(0);\n\n        this.delegate.preview();\n    };\n\n    ImgixComponents.ImgixSlider.prototype.saveValue=function(data) {\n        if (this.slider.val()!=this.defaultValue)\n            data[this.param]=this.slider.val();\n\n        return data;\n    };\n\n}(jQuery));\n","(function($){\n\n    ImgixComponents.ImgixColor=function(delegate, container)\n    {\n        this.delegate=delegate;\n        this.container=container;\n        this.colorPicker=container.find('.imgix-param-color');\n        this.alphaSlider=container.find('.imgix-param-alpha');\n        this.type=container.data('param-type');\n        this.resetButton=container.find('.imgix-param-reset');\n        this.param=container.data('param');\n        this.defaultValue=container.data('default-value');\n\n        var colorPickerRef=this;\n\n        if (this.type=='blend-color') {\n            this.blendParam=container.data('blend-param');\n            this.blendSelect = container.find('.imgix-param-blend');\n\n            var currentBlend=container.data('blend-value');\n            this.blendSelect.val(currentBlend);\n\n            this.blendSelect.on('change',function(){\n                colorPickerRef.delegate.preview();\n            });\n        }\n\n        this.colorPicker.wpColorPicker({\n            palettes: false,\n            change: function(event, ui) {\n                colorPickerRef.delegate.preview();\n            }\n        });\n\n        this.alphaSlider.on('change',function(){\n            colorPickerRef.delegate.preview();\n        });\n\n        this.resetButton.on('click',function(){\n            colorPickerRef.reset();\n        });\n    };\n\n    ImgixComponents.ImgixColor.prototype.destroy=function() {\n        this.alphaSlider.off('change');\n        if (this.type=='blend-color') {\n            this.blendSelect.off('change');\n        }\n        this.resetButton.off('click');\n    };\n\n    ImgixComponents.ImgixColor.prototype.reset=function(data) {\n        var blend='none';\n        var val;\n\n        if ((data !== undefined) && data.hasOwnProperty(this.blendParam))\n        {\n            blend=data[this.blendParam];\n        }\n\n        if ((data !== undefined) && data.hasOwnProperty(this.param))\n        {\n            val=data[this.param];\n        }\n        else\n            val=this.defaultValue;\n\n        val=val.replace('#','');\n        if (val.length==8)\n        {\n            var alpha=(parseInt('0x'+val.substring(0,2))/255.0)*100.0;\n            val=val.substring(2);\n\n            this.alphaSlider.val(Math.round(alpha));\n            this.alphaSlider.hide().show(0);\n        } else {\n            this.alphaSlider.val(0);\n            this.alphaSlider.hide().show(0);\n        }\n\n        this.colorPicker.val('#'+val);\n        this.colorPicker.wpColorPicker('color', '#'+val);\n\n        if (this.type=='blend-color') {\n            this.blendSelect.val(blend);\n        }\n\n        this.delegate.preview();\n    };\n\n    ImgixComponents.ImgixColor.prototype.saveValue=function(data) {\n        if (this.alphaSlider.val()>0) {\n            data[this.param] = '#' + ImgixComponents.utilities.byteToHex(Math.round((parseFloat(this.alphaSlider.val()) / 100.0) * 255.0)) + this.colorPicker.val().replace('#', '');\n\n            if (this.type == 'blend-color') {\n                if (this.blendSelect.val()!='none') {\n                    data[this.blendParam] = this.blendSelect.val();\n                }\n            }\n        }\n\n        return data;\n    };\n\n}(jQuery));\n","(function($){\n\n    ImgixComponents.ImgixAlignment=function(delegate, container)\n    {\n        this.delegate=delegate;\n        this.container=container;\n        this.alignmentParam=container.find('.imgix-param');\n        this.resetButton=container.find('.imgix-param-reset');\n        this.defaultValue=container.data('default-value');\n        this.param=container.data('param');\n\n        var alignmentRef=this;\n\n        this.resetButton.on('click',function(){\n            alignmentRef.reset();\n        });\n\n        container.find('.imgix-alignment-button').on('click',function(){\n            var button=$(this);\n            alignmentRef.container.find('.imgix-alignment-button').each(function(){\n                $(this).removeClass('selected-alignment');\n            });\n\n            button.addClass('selected-alignment');\n            alignmentRef.alignmentParam.val(button.data('param-value'));\n            alignmentRef.delegate.preview();\n        });\n    };\n\n    ImgixComponents.ImgixAlignment.prototype.destroy=function() {\n        this.resetButton.off('click');\n        this.container.find('.imgix-alignment-button').off('click');\n    };\n\n    ImgixComponents.ImgixAlignment.prototype.reset=function(data) {\n        var val;\n\n        if (data && data.hasOwnProperty(this.param))\n            val=data[this.param];\n        else\n            val=this.defaultValue;\n\n        if (val=='')\n            val=this.defaultValue;\n\n        this.container.find('.imgix-alignment-button').each(function(){\n            var button=$(this);\n            if (button.data('param-value')==val)\n                button.addClass('selected-alignment');\n            else\n                button.removeClass('selected-alignment');\n        });\n\n        this.alignmentParam.val(val);\n        this.delegate.preview();\n    };\n\n    ImgixComponents.ImgixAlignment.prototype.saveValue=function(data) {\n        if (this.alignmentParam.val()!=this.defaultValue)\n            data[this.param]=this.alignmentParam.val();\n\n        return data;\n    };\n}(jQuery));\n","(function($){\n\n    ImgixComponents.ImgixMediaChooser=function(delegate, container)\n    {\n        this.delegate=delegate;\n        this.container=container;\n        this.preview=container.find('.imgix-media-preview img');\n        this.mediaInput=container.find('.imgix-param');\n        this.selectButton=container.find('.imgix-media-button');\n        this.resetButton=container.find('.imgix-param-reset');\n\n        this.defaultValue=container.data('default-value');\n        this.param=container.data('param');\n\n        this.uploader=wp.media({\n            title: 'Select Watermark',\n            button: {\n                text: 'Select Watermark'\n            },\n            multiple: false\n        });\n\n        var mediaRef=this;\n\n        this.resetButton.on('click',function(){\n            mediaRef.reset();\n        });\n\n        this.uploader.on('select', function() {\n            attachment = mediaRef.uploader.state().get('selection').first().toJSON();\n            mediaRef.mediaInput.val(attachment.id);\n            mediaRef.preview.attr('src',attachment.url);\n\n            mediaRef.delegate.preview();\n        });\n\n        this.selectButton.on('click',function(e){\n            e.preventDefault();\n            mediaRef.uploader.open();\n            return false;\n        });\n\n    };\n\n    ImgixComponents.ImgixMediaChooser.prototype.destroy=function() {\n        this.selectButton.off('click');\n        this.uploader.off('select');\n        this.resetButton.off('click');\n    };\n\n    ImgixComponents.ImgixMediaChooser.prototype.reset=function(data) {\n        var val;\n\n        if (data && data.hasOwnProperty(this.param))\n        {\n            val=data[this.param];\n            this.mediaInput.val(val);\n        }\n        else\n            this.mediaInput.val('');\n\n        if (data && data.hasOwnProperty(this.param+'_url'))\n        {\n            this.preview.attr('src',data[this.param+'_url']);\n        }\n        else\n        {\n            this.preview.removeAttr('src').replaceWith(this.preview.clone());\n            this.preview=this.container.find('.imgix-media-preview img');\n        }\n\n        this.delegate.preview();\n    };\n\n    ImgixComponents.ImgixMediaChooser.prototype.saveValue=function(data) {\n        var val=this.mediaInput.val();\n\n        if (val && val!='')\n            data[this.param]=val;\n\n        return data;\n    };\n\n}(jQuery));\n","\n(function($){\n    ImgixComponents.ImgixPillbox=function(delegate, container)\n    {\n        this.delegate=delegate;\n        this.container=container;\n        this.param=container.data('param');\n        this.values=container.data('param-values').split(',');\n        this.buttons=container.find('.ilabm-pill');\n        this.inputs={};\n\n        var pillboxRef=this;\n\n        this.buttons.each(function(){\n            var button=$(this);\n            var valueName=button.data('param');\n            pillboxRef.inputs[valueName]=pillboxRef.container.find(\"input[name='\"+valueName+\"']\");\n            button.on('click',function(e){\n                e.preventDefault();\n\n                if (pillboxRef.inputs[valueName].val()==0)\n                {\n                    pillboxRef.inputs[valueName].val(1);\n                    button.addClass('pill-selected');\n                }\n                else\n                {\n                    pillboxRef.inputs[valueName].val(0);\n                    button.removeClass('pill-selected');\n                }\n\n                pillboxRef.delegate.preview();\n\n                return false;\n            });\n        });\n    };\n\n    ImgixComponents.ImgixPillbox.prototype.destroy=function() {\n        this.buttons.off('click');\n    };\n\n    ImgixComponents.ImgixPillbox.prototype.reset=function(data) {\n        this.buttons.each(function(){\n           $(this).removeClass('pill-selected');\n        });\n\n        var pillboxRef=this;\n        Object.keys(this.inputs).forEach(function(key,index){\n            pillboxRef.inputs[key].val(0);\n        });\n\n        if (data && data.hasOwnProperty(this.param)) {\n            var val = data[this.param].split(',');\n\n\n            val.forEach(function (key, index) {\n                pillboxRef.inputs[key].val(1);\n                pillboxRef.container.find('imgix-pill-' + key).addClass('pill-selected');\n            });\n        }\n\n        this.delegate.preview();\n    };\n\n    ImgixComponents.ImgixPillbox.prototype.saveValue=function(data) {\n        var vals=[];\n\n        var pillboxRef=this;\n        Object.keys(this.inputs).forEach(function(key,index){\n            if (pillboxRef.inputs[key].val()==1)\n                vals.push(key);\n        });\n\n        if (vals.length>0)\n            data[this.param]=vals.join(',');\n\n        return data;\n    };\n\n}(jQuery));\n","/**\n * Created by jong on 8/9/15.\n */\n\nvar ILabImgixPresets=function($,delegate,container) {\n\n    this.delegate=delegate;\n    this.container=container.find('.ilabm-bottom-bar');\n    this.presetSelect=this.container.find('.imgix-presets');\n    this.presetContainer=this.container.find('.imgix-preset-container');\n    this.presetDefaultCheckbox=this.container.find('.imgix-preset-make-default');\n\n    var self=this;\n\n    self.presetSelect.on('change',function(){\n        if (self.presetSelect.val==0)\n        {\n            self.delegate.resetAll();\n            self.presetDefaultCheckbox.prop('checked',false);\n            return;\n        }\n\n        var preset=self.delegate.settings.presets[self.presetSelect.val()];\n        if (preset.default_for==self.delegate.settings.size)\n            self.presetDefaultCheckbox.prop('checked',true);\n\n        self.delegate.bindPreset(preset);\n    });\n\n    this.container.find('.imgix-new-preset-button').on('click',function(){\n        self.newPreset();\n    });\n\n    this.container.find('.imgix-save-preset-button').on('click',function(){\n        self.savePreset();\n    });\n\n    this.container.find('.imgix-delete-preset-button').on('click',function(){\n        self.deletePreset();\n    });\n\n    this.init=function() {\n        self.presetSelect.find('option').remove();\n\n        if (Object.keys(self.delegate.settings.presets).length==0)\n        {\n            self.presetContainer.addClass('is-hidden');\n        }\n        else\n        {\n            Object.keys(self.delegate.settings.presets).forEach(function(key,index) {\n                self.presetSelect.append($('<option></option>')\n                    .attr(\"value\",'0')\n                    .text('None'));\n\n                self.presetSelect.append($('<option></option>')\n                    .attr(\"value\",key)\n                    .text(self.delegate.settings.presets[key].title));\n            });\n\n            self.presetContainer.removeClass('is-hidden');\n            self.presetSelect.val(self.delegate.settings.currentPreset);\n        }\n    };\n\n    this.clearSelected=function(){\n        self.presetSelect.val(0);\n        self.presetDefaultCheckbox.prop('checked',false);\n    };\n\n    this.setCurrentPreset=function(preset, is_default){\n        if (is_default)\n            self.presetDefaultCheckbox.prop('checked',true);\n        else\n            self.presetDefaultCheckbox.prop('checked',false);\n\n        self.presetSelect.val(preset);\n    };\n\n    this.newPreset=function(){\n        var name=prompt(\"New preset name\");\n        if (name!=null)\n        {\n            self.delegate.displayStatus('Saving preset ...');\n\n            var data={};\n            data['name']=name;\n            if (self.presetDefaultCheckbox.is(':checked'))\n                data['make_default']=1;\n\n            self.delegate.postAjax('ilab_imgix_new_preset', data, function(response) {\n                self.delegate.hideStatus();\n                if (response.status=='ok')\n                {\n                    self.delegate.settings.currentPreset=response.currentPreset;\n                    self.delegate.settings.presets=response.presets;\n\n                    self.init();\n                }\n            });\n        }\n    };\n\n    this.savePreset=function(){\n        if (self.presetSelect.val()==null)\n            return;\n\n        self.delegate.displayStatus('Saving preset ...');\n\n        var data={};\n        data['key']=self.presetSelect.val();\n        if (self.presetDefaultCheckbox.is(':checked'))\n            data['make_default']=1;\n\n        self.delegate.postAjax('ilab_imgix_save_preset', data, function(response) {\n            self.delegate.hideStatus();\n        });\n    };\n\n    this.deletePreset=function(){\n        if (self.presetSelect.val()==null)\n            return;\n\n        if (!confirm(\"Are you sure you want to delete this preset?\"))\n            return;\n\n        self.delegate.displayStatus('Delete preset ...');\n\n        var data={};\n        data['key']=self.presetSelect.val();\n\n        self.delegate.postAjax('ilab_imgix_delete_preset', data, function(response) {\n            self.delegate.hideStatus();\n            if (response.status=='ok')\n            {\n                self.delegate.settings.currentPreset=response.currentPreset;\n                self.delegate.settings.presets=response.presets;\n\n                self.init();\n\n                self.delegate.bindUI(response);\n            }\n        });\n    };\n\n    this.init();\n};","(function($){\n\n    $.fn.ilabSidebarTabs=function(options){\n        var settings= $.extend({},options);\n\n        var firstTab=false;\n        return this.find('.ilabm-sidebar-tab').each(function(){\n            var tab=$(this);\n            var target=settings.container.find('.'+tab.data('target'));\n\n            if (!firstTab)\n            {\n                tab.addClass('active-tab');\n                target.removeClass('is-hidden');\n\n                firstTab=true;\n            }\n\n            tab.on('click',function(e){\n                e.preventDefault();\n\n                settings.container.find(\".ilabm-sidebar-tab\").each(function() {\n                    var otherTab = $(this);\n                    var tabTarget = settings.container.find('.' + otherTab.data('target'));\n\n                    otherTab.removeClass('active-tab');\n                    tabTarget.addClass('is-hidden');\n                });\n\n                tab.addClass('active-tab');\n                target.removeClass('is-hidden');\n\n                return false;\n            });\n        });\n    };\n\n}(jQuery));\n","/**\n * Image Editing Module\n */\n\nvar ILabImageEdit=function($, settings){\n    this.previewTimeout=null;\n    this.previewsSuspended=false;\n    this.parameters=[];\n\n    var self=this;\n\n    this.settings=settings;\n\n    this.modalContainer=$('#ilabm-container-'+settings.modal_id);\n    this.waitModal=this.modalContainer.find('.ilabm-preview-wait-modal');\n    this.previewImage=this.modalContainer.find('.imgix-preview-image');\n\n    this.presets=new ILabImgixPresets($,this,this.modalContainer);\n\n    this.modalContainer.find('.imgix-button-reset-all').on('click',function(){\n        self.resetAll();\n    });\n    this.modalContainer.find('.imgix-button-save-adjustments').on('click',function(){\n        self.apply();\n    });\n\n    this.modalContainer.find('.imgix-parameter').each(function(){\n        var container=$(this);\n        var type=container.data('param-type');\n        if (type=='slider')\n            self.parameters.push(new ImgixComponents.ImgixSlider(self,container));\n        else if ((type=='color') || (type=='blend-color'))\n            self.parameters.push(new ImgixComponents.ImgixColor(self,container));\n        else if (type=='pillbox')\n            self.parameters.push(new ImgixComponents.ImgixPillbox(self,container));\n        else if (type=='media-chooser')\n            self.parameters.push(new ImgixComponents.ImgixMediaChooser(self,container));\n        else if (type=='alignment')\n            self.parameters.push(new ImgixComponents.ImgixAlignment(self,container));\n    });\n\n    this.modalContainer.on('click','.imgix-pill',function(){\n        var paramName=$(this).data('param');\n        var param=self.modalContainer.find('#imgix-param-'+paramName);\n        if (param.val()==1)\n        {\n            param.val(0);\n            $(this).removeClass('pill-selected');\n        }\n        else\n        {\n            param.val(1);\n            $(this).addClass('pill-selected');\n        }\n\n        self.preview();\n    });\n\n    this.modalContainer.find('.ilabm-editor-tabs').ilabTabs({\n        currentValue: self.settings.size,\n        tabSelected:function(tab){\n            ILabModal.loadURL(tab.data('url'),true,function(response){\n                self.bindUI(response);\n            });\n        }\n    });\n\n    this.modalContainer.find(\".ilabm-sidebar-tabs\").ilabSidebarTabs({\n        delegate: this,\n        container: this.modalContainer\n    });\n\n    /**\n     * Performs the wordpress ajax post\n     * @param action\n     * @param data\n     * @param callback\n     * @private\n     */\n    this.postAjax=function(action,data,callback){\n        var postData={};\n        self.parameters.forEach(function(value,index){\n            postData=value.saveValue(postData);\n        });\n\n        data['image_id'] = self.settings.image_id;\n        data['action'] = action;\n        data['size'] = self.settings.size;\n        data['settings']=postData;\n\n        $.post(ajaxurl, data, callback);\n    }\n\n    /**\n     * Performs the actual request for a preview to be generated\n     * @private\n     */\n    function _preview(){\n        self.displayStatus('Building preview ...');\n\n        self.waitModal.removeClass('is-hidden');\n\n        self.postAjax('ilab_imgix_preview',{},function(response) {\n            if (response.status=='ok')\n            {\n                var sameSrc = (response.src == self.previewImage.attr('src'));\n                var didLoad = false;\n\n                self.previewImage.on('load',function(){\n                    didLoad = true;\n                    self.waitModal.addClass('is-hidden');\n                    self.hideStatus();\n                });\n\n                self.previewImage.on('error', function(){\n                    didLoad = true;\n                    self.waitModal.addClass('is-hidden');\n                    self.hideStatus();\n                });\n\n                self.previewImage.attr('src',response.src);\n\n                if (sameSrc) {\n                    setTimeout(function(){\n                        if (!didLoad) {\n                            self.waitModal.addClass('is-hidden');\n                            self.hideStatus();\n                        }\n                    }, 3000);\n                }\n            }\n            else\n            {\n                self.waitModal.addClass('is-hidden');\n                self.hideStatus();\n            }\n        });\n    }\n\n    /**\n     * Requests a preview to be generated.\n     */\n    this.preview=function(){\n        if (self.previewsSuspended)\n            return;\n\n        ILabModal.makeDirty();\n\n        clearTimeout(self.previewTimeout);\n        self.previewTimeout=setTimeout(_preview,500);\n    };\n\n    /**\n     * Binds the UI to the json response when selecting a tab or changing a preset\n     * @param data\n     */\n    this.bindUI=function(data){\n        if (data.hasOwnProperty('currentPreset') && (data.currentPreset!=null) && (data.currentPreset!='')) {\n            var p=self.settings.presets[data.currentPreset];\n            self.presets.setCurrentPreset(data.currentPreset,(p.default_for==data.size));\n        }\n        else\n            self.presets.clearSelected();\n\n        self.previewsSuspended=true;\n        self.settings.size=data.size;\n        self.settings.settings=data.settings;\n\n        var rebind=function(){\n            self.previewImage.off('load',rebind);\n            self.parameters.forEach(function(value,index){\n                value.reset(data.settings);\n            });\n\n            self.previewsSuspended=false;\n            ILabModal.makeClean();\n        };\n\n        if (data.src)\n        {\n            self.previewImage.on('load',rebind);\n            self.previewImage.attr('src',data.src);\n        }\n        else\n            rebind();\n    };\n\n    this.bindPreset=function(preset){\n        self.previewsSuspended=true;\n        self.settings.settings=preset.settings;\n\n        self.previewImage.off('load');\n        self.parameters.forEach(function(value,index){\n            value.reset(self.settings.settings);\n        });\n\n        self.previewsSuspended=false;\n        self.preview();\n    };\n\n\n    this.apply=function(){\n        self.displayStatus('Saving adjustments ...');\n\n        self.postAjax('ilab_imgix_save', {}, function(response) {\n            self.hideStatus();\n            ILabModal.makeClean();\n        });\n    };\n\n    /**\n     * Reset all of the values\n     */\n    this.resetAll=function(){\n        self.parameters.forEach(function(value,index){\n            value.reset();\n        });\n    };\n\n    this.displayStatus=function(message){\n        self.modalContainer.find('.ilabm-status-label').text(message);\n        self.modalContainer.find('.ilabm-status-container').removeClass('is-hidden');\n    };\n\n    this.hideStatus=function(){\n        self.modalContainer.find('.ilabm-status-container').addClass('is-hidden');\n    };\n};\n\n"],"sourceRoot":"js/"}